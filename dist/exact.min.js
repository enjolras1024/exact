!function(e,t){"use strict";e=e||window||{};var n={version:"0.0.9"};try{n.env=">=ES5",n.defineProp=Object.defineProperty,n.defineProp({},"x",{get:function(){}})}catch(r){n.env="<ES5",n.defineProp=function(e,t,n){e[t]=n.value}}n.Skin=e&&e.ExactSkin,function(){var e=/\[|\]?\./;n.PathUtil={parse:function(t){return t?t.split(e):null}}}(),function(){var e="'".charCodeAt(0),t="\\".charCodeAt(0);n.StringUtil={split:function(n,r,i){var s,a,o,c,l,u,f,h,p=-1,d=-1,v=[];if(n=n.trim(),n[n.length-1]!==r&&(n+=r),s=n.length,1===s)return v;for(d=0,r=r.charCodeAt(0),i=[i.charCodeAt(0),i.charCodeAt(1)];++p<s;)a=n.charCodeAt(p),a===e&&o!==t&&(f=!f),f?o=a:(u?a===l?--u:a===c&&++u:(c=-1,l=-1,a===i[0]&&(c=a,l=i[1],u=1)),u||a!==r||(h=n.slice(d,p).trim(),v.push(h),d=p+1),o=a);return v},range:function(n,r,i,s){var a,o,c,l,u,f,h=n.length;if(a=n.indexOf(i+s[0],r),a>=0&&n.charCodeAt(a-1)!==t)for(o=a+i.length,c=1,s=[s.charCodeAt(0),s.charCodeAt(1)];++o<h;)if(l=n.charCodeAt(o),l===e&&u!==t&&(f=!f),f)u=l;else{if(l===s[1]){if(--c,!c)return[a,o+1]}else l===s[0]&&++c;u=l}return null}}}(),function(){function e(e){return c[e]}function t(e){try{return JSON.parse(e)}catch(t){}}function r(e){return!!o(e)}function i(e){return e}function s(e){return e.slice(1,e.length-1)}function a(e){return t(e)||null}function o(n,r){if(n=n.trim()){if(r){if(!(r in l))throw new Error("no such type of literal parser, try on json");return l[r](n)}return n in c?e(n):isNaN(n)?u.test(n)?s(n):t(n):Number(n)}}var c={"true":!0,"false":!1,NaN:NaN,"null":null,undefined:void 0},l={"boolean":r,number:Number,string:i,json:a},u=/^'.*'$/;n.LiteralUtil={parse:o,toNumber:Number,toBoolean:r,toAnyValue:t}}(),function(){n.EVENT_SYMBOL="event",n.EVENT_OPERATOR="^",n.CONTEXT_SYMBOL="$",n.DATA_BINDING_BRACKETS="{}",n.BINDING_OPERATORS={ONE_TIME:"&",ONE_WAY:"@",TWO_WAY:"#",EVENT:"+",TEXT:"?"}}(),function(){function e(e,t){var r,i,s;for(r=0,i=t.length;r<i;++r){s=t[r];for(var a in s)s.hasOwnProperty(a)&&n.defineProp(e,a,Object.getOwnPropertyDescriptor(s,a))}}var t={bind:function(){for(var e,t,n=this.target,r=0,i=arguments.length;r<i;++r)e=arguments[r],t=n[e],"function"==typeof t&&(n[e]=t.bind(n))}};n.help=function(e){return t.target=e,t},n.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");if(!(e instanceof Object)){var t=typeof e;"number"===t?e=new Number(e):"string"===t?e=new String(e):"boolean"===t&&(e=new Boolean(e))}var r,i,s,a=arguments.length;for(s=1;s<a;++s)if(r=arguments[s],r instanceof Object)for(i in r)r.hasOwnProperty(i)&&n.defineProp(e,i,Object.getOwnPropertyDescriptor(r,i));return e},n.setImmediate=function(e,t){if(!e)if(t){var n=[],r=0,i=document.createTextNode(""),s=new t(function(){for(var e;e=n.pop();)e();r=r?0:1});s.observe(i,{characterData:!0}),e=function(e){e&&(n.unshift(e),i.data=r)}}else e=function(e){setTimeout(e,0)};return e}("undefined"!=typeof setImmediate?setImmediate:null,"undefined"!=typeof MutationObserver?MutationObserver:null,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null),n.defineClass=function(t){var r,i,s,a,o;if(t.hasOwnProperty("extend")){if(i=t.extend,"function"!=typeof i)throw new TypeError("superClass must be a function")}else i=Object;if(t.hasOwnProperty("constructor")){if(r=t.constructor,"function"!=typeof r)throw new TypeError("subClass must be a function")}else r=function(){i.apply(this,arguments)};return r.prototype=Object.create(i.prototype),o=[r.prototype],s=t.mixins,Array.isArray(s)&&o.push.apply(o,s),o.push(t),e(r.prototype,o),n.defineProp(r.prototype,"constructor",{value:r,enumerable:!1,writable:!0,configurable:!0}),o=[r,i],a=t.statics,a&&(s=a.mixins,Array.isArray(s)&&o.push.apply(o,s),o.push(a)),e(r,o),delete r.prototype.statics,delete r.prototype.entend,delete r.prototype.mixins,delete r.mixins,r}}(),function(){function e(e,t){for(var n=-1,r=e.length,i=t;++n<r;)if(i=i[e[n]],void 0===i||null===i)return i;return i}var t=n.PathUtil;n.RES={search:function(r,i,s){if("string"==typeof r&&(r=t.parse(r)),i)var a=e(r,i);return a||s||(a=e(r,this),!a&&n.global&&(a=e(r,n.global))),a},register:function(e,r,i){var s,a=this;"string"==typeof e&&(e=t.parse(e));for(var o=-1,c=e.length-1;++o<c;){if(s=a[e[o]],null==s)s=a[e[o]]={};else if(!(s instanceof Object))throw new TypeError("You can not register resource to "+typeof s);a=s}var l=e[o];return!i&&a.hasOwnProperty(l)?(console.warn("the resource on path `"+e.join(".")+"` already exists"),!1):(n.defineProp(a,l,{value:r,writable:!1,enumerable:!0,configurable:!0}),!0)}}}(),function(){function e(){this._actions=null}function t(e){var t;if(e.type)t=e;else{t={};var n=e.indexOf(".");"!"===e[0]&&(t.capture=!0,e=e.slice(1)),n>0?(t.type=e.slice(0,n),t.name=e.slice(n+1)):t.type=e}return t}function r(e,r,i){var s=e._actions,a=e.constructor;if("function"!=typeof i)return null;s||(n.defineProp(e,"_actions",{value:{},writable:!1,enumerable:!1,configurable:!0}),s=e._actions);var o=t(r);r=(o.capture?"!":"")+o.type;var c=s[r];c||(c=s[r]={handlers:[],capture:o.capture});var l,u,f=c.handlers,h=o.name,p=f.length;for(u=0;u<p;++u)if(l=f[u],i===l.exec&&h===l.name)return c;return l={exec:i},h&&(l.name=h),f.push(l),"listener"in c||("function"==typeof a.addEventListener?a.addEventListener(e,c,o.type):l.listener=null),c}function i(e,n,r){var i=e._actions,s=e.constructor,a=2===arguments.length;if(i){var o=t(n);n=(o.capture?"!":"")+o.type;var c=i[n];if(c){var l,u,f=c.handlers,h=o.name,p=f.length;if(a&&!h)f.length=0;else for(u=0;u<p;++u)if(l=f[u],(a||r===l.exec)&&(!h||h===l.name)){f.splice(u--,1);break}return 0===f.length&&(c.listener&&"function"==typeof s.removeEventListener&&s.removeEventListener(e,c,o.type),delete i[n]),c}}}function s(e){var t,n=e._actions;if(n)for(t in n)n.hasOwnProperty(t)&&i(e,t)}function a(e,n,r,i){var s,a=e._actions;if(a&&(r=t(r),s=a[(r.capture?"!":"")+r.type])){r.dispatcher=e,i&&n.unshift(r);var o,c,l,u,f=s.handlers;for(c=f.length,o=0;o<c;++o)u=f[o],!u||u.name&&u.name!==r.name||(l=u.exec,l.apply(null,n))}}var o=Array.prototype.slice;n.defineClass({constructor:e,on:function(e,t){var n,i;if("object"==typeof e){n=e;for(e in n)n.hasOwnProperty(e)&&(i=n[e],r(this,e,i))}else e&&r(this,e,t);return this},off:function(e,t){var n,r,a=arguments.length,o=typeof e;if(0===a)s(this);else if("string"===o)1===a?i(this,e):i(this,e,t);else if("object"===o){n=e;for(e in n)n.hasOwnProperty(e)&&(r=n[e],i(this,e,r))}return this},once:function(e,t){var n=typeof e;if("object"===n){var r,i=e;for(e in i)i.hasOwnProperty(e)&&(r=i[e],this.once(e,r))}else{var s=this,a=function(){s.off(e,a),t.apply(null,arguments)};this.on(e,a)}return this},emit:function(e){var t=o.call(arguments,1);return a(this,t,e,!1),this},send:function(e){var t=o.call(arguments,1);return a(this,t,e,!0),this}}),e.getFixedEvent=t,n.Watcher=e}(),function(){function e(e){return s.hasOwnProperty(e)||(s[e]=function(){return this.get(e)}),s[e]}function t(e){return a.hasOwnProperty(e)||(a[e]=function(t){this.set(e,t)}),a[e]}function r(){throw new Error("Accessor is abstract class and can not be instantiated")}var i={enumerable:!0,configurable:!0},s={},a={};n.defineClass({constructor:r,statics:{define:function(r,s){i.get=e(s),i.set=t(s),n.defineProp(r,s,i)}},get:function(e){throw new Error("this method must be implemented by sub-class")},set:function(e,t){throw new Error("this method must be implemented by sub-class")},save:function(e){for(var t in e)e.hasOwnProperty(t)&&this.set(t,e[t]);return this},unset:function(e){return this.set(e,void 0),delete this[e],this}}),n.Accessor=r}(),function(){function e(){s=0,c=!0;for(var e;s<i.length;)e=i[s],e.update(),++s;s=0,i.length=0,c=!1,o=!1;var t=r[a];a=a?0:1;for(var n=0,l=t.length;n<l;++n)e=t[n],e.render();t.length=0}var t=n.setImmediate,r=[[],[]],i=[],s=0,a=0,o=!1,c=!1;n.Schedule={insert:function(n){var r,a=i.length,l=n.guid;if(c)for(r=s+1;r<a&&l>=i[r].guid;)++r;else{for(r=a-1;r>=0&&l<i[r].guid;)--r;++r}i.splice(r,0,n),o||(o=!0,t(e))},append:function(e){var t=r[a];t.push(e)}}}(),function(){function e(e){if(e instanceof Object){var t=e.constructor;return t.fullName||t.name}return typeof e}function t(e,t,n,r){return new TypeError("`"+t+"` of type `"+(e||"<<anonymous>>")+"` should be `"+n+(r?"`, not `"+r:"")+"`")}function r(e,t,n,r){for(var i=[],s=0,a=n.length;s<a;++s)i.push("`"+(n[s].name||n[s])+"`");return new TypeError("`"+t+"` of type `"+(e||"<<anonymous>>")+"` should be "+i.join(" or ")+(r?", not `"+r:"")+"`")}function i(n,i,s,a){var o,c,l=typeof a;if("string"===l&&typeof s!==a?(l=a,o=!0):"function"!==l||s instanceof a||(l=a.fullName||a.name,o=!0),o)return c=n.constructor,t(c.fullName||c.name,i,l,e(s));if(Array.isArray(a)){for(var u=0,f=a.length;u<f&&(l=typeof a[u],!("string"===l&&typeof s===a[u]||"function"===l&&s instanceof a[u]));++u);if(u===f)return c=n.constructor,r(c.fullName||c.name,i,a,e(s))}}function s(e,t,n,r){if(!r.test(n))return new Error(n+" does not match the pattern "+r.toString()+" of the property `"+t+"` in "+e.toString())}n.Validator={validate:function(e,t,n,r){if(!r.type&&!r.validator)return!0;var a,o,c,l;return c=r.type,o=r.validator,c&&(l=!0,a=i(e,t,n,c)),!a&&o&&(l=!0,a="function"==typeof o?o.call(e,n,t):s(e,t,n,o)),l&&e.on&&e.send&&e.send("validated."+t,a),!a||(console.warn("Invalid:",a.message),!1)}}}(),function(){function e(e,n){var r,s,o,c,l,u,f=e.flags,h=e.slice(0);if(f&&f.length)for(r=0,s=f.length;r<s;++r)u=f[r],u===a.LOCAL_PATH?(c=e[r],o=c.length,l=n[c.origin],h[r]=1===o?l[c[0]]:o?i.search(c,l,!0):l):u===a.EVALUATOR&&(h[r]=t(e[r],"exec",n));return h}function t(t,n,r,a){var o,c,l=null;if(o=t[n],!o){var u=t.path,f=u.length-1;l=f?i.search(u.slice(0,f),r[u.origin],!0):r[u.origin],o=l[u[f]]}return c=e(t.args||s,r),arguments.length>3&&c.unshift(a),o.apply(l,c)}function r(e,t,n){this.exec=e,this.back=n,this.args=t}var i=n.RES,s=[],a={EVALUATOR:-1,INVARIABLE:0,LOCAL_PATH:1};r.ARGUMENT_FLAGS=a,r.activate=t,r.create=function(e,t,n){return new r(e,t,n)},n.Evaluator=r}(),function(){function e(e,t){this.compiler=e,this.template=t}e.create=function(t,n){return new e(t,n)},e.activate=function(e,t,n,r,i){var s=e.compiler,a=e.template;s&&s.compile&&s.compile(a,t,n,r,i)},n.Expression=e}(),function(){function e(){throw new Error("DirtyMarker is static class and can not be instantiated")}n.defineClass({constructor:e,statics:{check:function(e,t,r,i){var s=e._dirty;s||(s={},n.defineProp(e,"_dirty",{value:s,enumerable:!1,writable:!0,configurable:!0})),t in s?s[t]===r&&delete s[t]:s[t]=i},clean:function(e,t){t?delete e._dirty[t]:e._dirty=null}},hasDirty:function(e){var t=this._dirty;return!!t&&(null==e||t.hasOwnProperty(e))}}),n.DirtyMarker=e}(),function(){function e(){var e=arguments.length,t=arguments[0];e&&(1===e&&"number"==typeof t?this.push.apply(this,new Array(t)):this.push.apply(this,arguments))}function t(e,t){e.isInvalidated=!0,e.send(t?"changed."+t:"changed")}var r=n.Watcher,i=Array.prototype;n.defineClass({constructor:e,extend:Array,mixins:[r.prototype],statics:{from:function(t){var n=new e;return n.push.apply(n,t),n},clean:function(e){e.isInvalidated=!1}},push:function(){return arguments.length&&(i.push.apply(this,arguments),t(this,"length")),this.length},pop:function(){if(this.length){var e=i.pop.call(this);t(this,"length")}return e},unshift:function(){return arguments.length&&(i.unshift.apply(this,arguments),t(this,"length")),this.length},shift:function(){if(this.length){var e=i.shift.call(this);t(this,"length")}return e},splice:function(){var e=this.length,n=i.splice.apply(this,arguments);return t(this,this.length!==e?"length":""),n},sort:function(e){return i.sort.call(this,e),t(this),this},reverse:function(){return i.reverse.call(this),t(this),this},set:function(e,n){if(e>=this.length){for(var r=this.length;r<e;++r)i.push.call(this,void 0);i.push.call(this,n)}else{if(this[e]===n)return this;this[e]=n}t(this)},reset:function(e){var n,r,s,a;for(r=this.length,s=e.length,r>s&&(i.splice.call(this,s,r),a=!0),n=0;n<s;++n)a||this[n]===e[n]||(a=!0),this[n]=e[n];this.length=s,a&&t(this,s!=r?"length":"")},insert:function(e,n){var r,s;if(s=this.length,n&&n===e)return this;for(r=0;r<s;++r)if(this[r]===e){i.splice.call(this,r,1),s=this.length;break}if(null!=n){for(r=0;r<s&&this[r]!==n;++r);if(r===s)throw new Error("The item before which the new item is to be inserted is not existed in this collection");i.splice.call(this,r,0,e)}else i.push.call(this,e);t(this,"length")},remove:function(e){var n,r;for(n=0,r=this.length;n<r&&this[n]!==e;++n);if(n===r)throw new Error("The item is to be removed is not existed in this collection");n<r-1?i.splice.call(this,n,1):i.pop.call(this),t(this,"length")},replace:function(e,n){if(e!==n){var r,i;for(r=0,i=this.length;r<i&&this[r]!==n;++r);if(r===i)throw new Error("The item to be replaced is not existed in this collection");this.set(r,e),t(this)}}}),n.Collection=e}(),function(){function e(e,t){this.onChange=t,e&&this.save(e)}var t=n.Accessor,r=n.DirtyMarker;n.defineClass({constructor:e,mixins:[t.prototype,r.prototype],statics:{create:function(t,n){return new e(t,n)}},set:function(e,t){var n=this[e];t!==n&&(this[e]=t,r.check(this,e,t,n),this.onChange&&this.onChange())}}),n.Container=e}(),function(){function e(t){e.initialize(this,t)}var t=n.Watcher,r=n.Accessor;n.defineClass({constructor:e,mixins:[r.prototype,t.prototype],statics:{create:function(t){return new e(t)},initialize:function(e,t){e._props||n.defineProp(e,"_props",{value:{}}),e.save(t)}},get:function(e){return this._props[e]},set:function(e,t){var i=this._props;i.hasOwnProperty(e)||(r.define(this,e),i[e]=null);var s=i[e];t!==s&&(i[e]=t,"<ES5"===n.env&&(this[e]=t),this.send({type:"changed",name:e},t,s))}}),n.Store=e}(),function(){function e(e){return u.create(null,e.invalidate)}function t(e){var t=new f;return t.on("changed",e.invalidate),t}function r(){return this._attrs||n.defineProp(this,"_attrs",{value:e(this),configurable:!0}),this._attrs}function i(){return this._props}function s(){return this._style||n.defineProp(this,"_style",{value:e(this),configurable:!0}),this._style}function a(){return this._classes||n.defineProp(this,"_classes",{value:e(this),configurable:!0}),this._classes}function o(){return this._children||n.defineProp(this,"_children",{value:t(this),configurable:!0}),this._children}function c(e,t){var r,i=e.ns,s=e.tag,a=n.Skin;return(!t||s!==a.getTagName(t)||i!==a.getNameSpace(t)||(r=t?a.getShadow(t):null)&&r!==e)&&(t=s?a.createElement(i,s,e._props&&e._props.type):a.createText("")),e.attach(t),t}function l(){throw new Error("Shadow is abstract and can not be instantiated")}var u=n.Container,f=n.Collection,h=n.Watcher,p=n.Accessor,d=n.Schedule,v=n.DirtyMarker,g=n.setImmediate,y=0,m=function(e){n.defineProp(e,"_props",{value:{},writable:!1,enumerable:!1,configurable:!1}),n.defineProp(e,"props",{get:i}),e.tag&&(n.defineProp(e,"attrs",{get:r}),n.defineProp(e,"style",{get:s}),n.defineProp(e,"classes",{get:a}),n.defineProp(e,"children",{get:o}))};"<ES5"===n.env&&(m=function(r){n.defineProp(r,"_props",{value:{},writable:!1,enumerable:!1,configurable:!1}),r.props=r._props,r.tag&&(n.defineProp(r,"attrs",{value:e(r)}),n.defineProp(r,"style",{value:e(r)}),n.defineProp(r,"classes",{value:e(r)}),n.defineProp(r,"children",{value:t(r)}),r._attrs=r.attrs,r._style=r.style,r._classes=r.classes,r._children=r.children,r._contents=r.contents)}),n.defineClass({constructor:l,mixins:[h.prototype,p.prototype,v.prototype],invalidate:function(e,t,n){return this.isInvalidated||(this.isInvalidated=!0,d.insert(this)),this},update:function(){if(this.isInvalidated){this.refresh&&this.refresh(),this.send("updated");var e=this.$skin;if(e){var t,r,i=this._children;if(i&&i.isInvalidated)for(var s=0,a=i.length;s<a;++s)t=i[s],t.$skin||(r=r||n.Skin.getChildren(e),c(t,r[s]))}return d.append(this),this.isInvalidated=!1,this}},render:function(){var e=this.$skin;if(e){var t=n.Skin,r=this._dirty,i=this._props,s=this._attrs,a=this._style,o=this._classes,c=this._children;if(r&&(t.renderProps(e,i,r),v.clean(this)),this.tag&&(s&&s._dirty&&(t.renderAttrs(e,s,s._dirty),v.clean(s)),a&&a._dirty&&(t.renderStyle(e,a,a._dirty),v.clean(a)),o&&o._dirty&&(t.renderClasses(e,o,o._dirty),v.clean(o)),c&&c.isInvalidated)){i.hasOwnProperty("innerHTML")&&c.length&&console.error("You'd better not use innerHTML and children together for ",this);var u=t.renderChildren(e,c);if(u&&u.length)for(var h=0,p=u.length;h<p;++h){var d=t.getParent(u[h]),g=t.getShadow(u[h]);!d&&g&&(g.detach(),l.destroy(g))}f.clean(c)}return this}},attach:function(e){var t=n.Skin,r=t.getShadow(e);if(r){if(r===this)return;throw new Error("a shadow can not attach a $skin that has been attached")}if(this.tag!==t.getTagName(e))throw new Error("a shadow can not attach a $skin that has a different tag");if(this.ns!==t.getNameSpace(e))throw new Error("a shadow can not attach a $skin that has a different namespace");n.defineProp(this,"$skin",{value:e,writable:!0,enumerable:!1,configurable:!0}),t.setShadow(e,this);var i,s,a,o=this._actions;if(o)for(i in o)o.hasOwnProperty(i)&&(a=o[i],s=h.getFixedEvent(i),a&&l.addEventListener(this,a,s.type,s.capture));return this.send("attached"),this.invalidate(),this},detach:function(){var e,t,r,i=this._actions,s=this.$skin;if(i)for(e in i)i.hasOwnProperty(e)&&(r=i[e],t=h.getFixedEvent(e),r&&l.removeEventListener(this,r,t.type,t.capture));return n.Skin.setShadow(s,null),this.send("detached"),this.$skin=null,this},toString:function(){var e=this.constructor;return(e.fullName||e.name)+"<"+this.tag+">("+this.guid+")"},blur:function(){var e=this.$skin;return e&&g(function(){n.Skin.call(e,"blur")}),this},focus:function(){var e=this.$skin;return e&&g(function(){n.Skin.call(e,"focus")}),this},get:function(e){return this._props[e]},set:function(e,t){var r=this._props,i=r[e];return t!==i&&(r[e]=t,"<ES5"===n.env&&(this[e]=t),v.check(this,e,t,i),this.invalidate()),this},statics:{initialize:function(e,t,r){e.invalidate=e.invalidate.bind(e),n.defineProp(e,"guid",{value:++y,writable:!1,enumerable:!1,configurable:!1}),n.defineProp(e,"tag",{value:t,writable:!1,enumerable:!1,configurable:!1}),n.defineProp(e,"ns",{value:r,writable:!1,enumerable:!1,configurable:!1}),m(e)},destroy:function(e){e.off(),v.clean(e);var t,n=e._children;if(n)for(t=n.length-1;t>=0;--t)l.destroy(n[t]);var r,i=e._bindings;if(i){for(t=i.length-1;t>=0;--t)r=i[t],r.constructor.clean(r);delete e._bindings}e.release&&e.release()},addEventListener:function(e,t,r){var i=e.$skin,s=n.Skin;i&&(s.mayDispatchEvent(i,r)?(t.listener=function(n){n.capture=t.capture,e.send(s.getFixedEvent(n))},s.addEventListener(i,r,t.listener,t.capture)):t.listener=null)},removeEventListener:function(e,t,r){var i=e.$skin,s=n.Skin;i&&t.listener&&s.mayDispatchEvent(i,r)&&(s.removeEventListener(i,r,t.listener,t.capture),delete t.listener)}}}),n.Shadow=l}(),function(){function e(t){e.initialize(this,t)}var t=n.Shadow;n.defineClass({constructor:e,extend:t,statics:{create:function(t){return new e(t)},initialize:function(n,r){if(n.constructor!==e)throw new TypeError("Text is final class and can not be extended");t.initialize(n,"",""),n.set("data",r||"")}},toString:function(){return null==this.data?"":'"'+(this.data.length<24?this.data:this.data.slice(0,21)+"...")+'"('+this.guid+")"}}),n.Text=e}(),function(){function e(t,n,r){e.initialize(this,t,n,r)}var t=n.Shadow,r=n.Watcher;n.defineClass({constructor:e,extend:t,mixins:[r.prototype],statics:{initialize:function(n,r,i,s){if(n.constructor!==e)throw new TypeError("Element is final class and can not be extended");t.initialize(n,i,s||""),n.save(r)},create:function(t,n,r){return new e(r,t,n)}}}),n.Element=e}(),function(){function e(e,t,i){if(Array.isArray(t)){var s,o,c=t;for(t={},s=0,o=c.length;s<o;++s)t[c[s]]=l}t=r({},e.__descriptors__,t);var u,f;if(i)for(u in i)i.hasOwnProperty(u)&&!t.hasOwnProperty(u)&&(t[u]=l);for(u in t)t.hasOwnProperty(u)&&!e.hasOwnProperty(u)&&(a.define(e,u),f=t[u]||l,t[u]="object"!=typeof f?{type:f}:f);n.defineProp(e,"__descriptors__",{value:t})}function t(e){this.register(),t.initialize(this,e),this.ready()}var r=n.assign,i=n.Shadow,s=n.Watcher,a=n.Accessor,o=n.Validator,c=n.DirtyMarker,l={};n.defineClass({constructor:t,extend:i,mixins:[s.prototype,a.prototype],__descriptors__:{contents:l},statics:{create:function(e,t){return new e(t)},initialize:function(t,s){var a=t.constructor,o=a.prototype,c=a._template,l=a.resources,u=a.descriptors,f=a.defaults;if(!c){var h=a.template;if(h&&(c=n.HTMXEngine.parse(h,l)),!c)throw new TypeError("The template must be legal HTML string or DOM element");a._template=c}i.initialize(t,c.tag,c.ns),f="function"==typeof f?f():null,o.hasOwnProperty("__descriptors__")||e(o,u,f),t.save(s?r({},f,s):f),n.HTMXEngine.start(c,t)}},get:function(e){var t=this._props,n=this.__descriptors__,r=n[e],i=r.get;return i?i.call(this,t):t[e]},set:function u(e,t){var r,i=this._props,s=this.__descriptors__,a=s[e];if(a){if(!o.validate(this,e,t,a))return;var l=a.coerce,f=a.get,u=a.set;r=f?f.call(this):i[e],l&&(t=l.call(this,t)),t!==r&&(u?u.call(this,t):i[e]=t,"<ES5"===n.env&&(this[e]=t),a["native"]&&c.check(this,e,t,r),this.send({type:"changed",name:e},t,r),this.invalidate())}else r=i[e],t!==r&&(i[e]=t,"<ES5"===n.env&&(this[e]=t),c.check(this,e,t,r),this.invalidate())},register:function(){},ready:function(){},refresh:function(){},release:function(){}}),n.Component=t}(),function(){function e(){}n.defineClass({constructor:e,statics:{assign:function(e,t,n){e.set?e.set(t,n):e[t]=n},record:function(e,t){var r=e._bindings;r?r.push(t):n.defineProp(e,"_bindings",{value:[t],writable:!1,enumerable:!1,configurable:!0})},remove:function(e,t){var n=e._bindings;n.splice(n.lastIndexOf(t),1)}}}),n.Binding=e}(),function(){function e(e,t,n,r,i,s,a,o,c,u,f){this.mode=e,this.context=t,this.locals=n,this.target=r,this.source=i,this.evaluator=s,this.converters=a,this.targetProp=o,this.sourceProp=c,this.event=u,this.paths=f,this.exec=this.exec.bind(this),e===l.TWO_WAY&&(this.back=this.back.bind(this))}function t(e,t,n,r){var i,s,a,o,l;if(!e.length)return r;for("exec"===t?(s=0,o=1,a=e.length):(s=e.length-1,o=-1,a=-1),i=s;i!==a;i+=o)l=e[i],r=c.activate(l,t,n,r);return r}function r(e,t,n,r,i){var s=r.__descriptors__,a=s&&s[t];if(a&&a.depends){var c,l,u,f=a.depends;for(c=0,l=f.length;c<l;++c)u=o.parse(f[c]),u.origin=i,n.push(u);return n[e]=null,!0}}function i(e,t,n,i){if(!n||!t||!t.length)return 0;var a,o,c,l,u,f,h=0;for(a=0;a<t.length;++a)c=t[a],c&&(o=c.length-1,u=n[c.origin],l=c[o],f=o<1?u:s.search(c.slice(0,o),u,!0),"on"===e&&r(a,l,t,f,c.origin)||f&&f[e]&&(f[e]("changed."+l,i),h=1));return h}var s=n.RES,a=n.Binding,o=n.PathUtil,c=n.Evaluator,l=(n.Collection,{ONE_TIME:0,ONE_WAY:1,TWO_WAY:2});n.defineClass({constructor:e,statics:{MODES:l,compile:function(t,n,r,o,c){var u=t.mode,f=t.paths,h=t.event,p=t.evaluator,d=t.converters;if(c=c||[],u===l.TWO_WAY){var v,g,y,m;m=f[0],v=m.length-1,y=m[v],g=s.search(m.slice(0,v),c[m.origin],!0)}var E=new e(u,o,c,r,g,p,d,n,y,h,h?null:f);E.exec();var w,x=u===l.ONE_TIME?"once":"on";return h?(o.on(h,E.exec),w=1):w=i(x,f,c,E.exec),w&&a.record(r,E),u===l.TWO_WAY&&r.on&&r.on("changed."+n,E.back),E},clean:function(e){var t,n=e.mode,r=e.target,s=e.locals,o=e.context;n!==l.ONE_TIME&&(e.event?o.off&&(o.off(e.event,e.exec),t=1):t=i("off",e.paths,s,e.exec),t&&a.remove(r,e),e.mode===l.TWO_WAY&&r.off&&r.off("changed."+e.targetProp,e.back))}},exec:function(){var n,r=this.locals,i=this.evaluator,s=this.converters,o=this.target,u=this.targetProp;n=c.activate(i,"exec",r),s&&(n=t(s,"exec",r,n)),a.assign(o,u,n),this.mode===l.ONE_TIME&&e.clean(this)},back:function(){var e,n=this.locals,r=this.converters,i=this.source,s=this.sourceProp,o=this.target,c=this.targetProp;e=o[c],r&&(e=t(r,"back",n,e)),a.assign(i,s,e)}}),n.DataBinding=e}(),function(){function e(e,t,n,r){this.exec=this.exec.bind(this),this.property=e,this.target=t,this.context=n,this.container=r}var t=n.Container,r=n.Binding,i=n.Expression,s=n.DataBinding,a=n.DirtyMarker,o=Array.prototype.join;n.defineClass({constructor:e,statics:{compile:function(n,s,a,o,c){var l,u,f,h=t.create(null,o.invalidate);for(l=0,u=n.length;l<u;++l)f=n[l],f instanceof i?i.activate(f,l,h,o,c):h.set(l,f);h.length=u;var p=new e(s,a,o,h);r.record(a,p),p.exec(),o.on("updated",p.exec)},clean:function(e){e.context.off("updated",e.exec);var t=e.container._bindings;if(t)for(var n=t.length-1;n>=0;--n)s.clean(t[n]);r.remove(e.target,e)}},exec:function(){var e=this.container;e.hasDirty()&&(r.assign(this.target,this.property,o.call(e,"")),a.clean(e))}}),n.TextBinding=e}(),function(){function e(){this.evaluator=null,this.handler=""}var t=n.Evaluator;e.compile=function(e,n,r,i,s){var a=e.handler,o=e.evaluator;if(a){var c=i[a];if(!c)throw new ReferenceError("no such handler named "+a+" in "+i);r.on(n,c)}else s=[null].concat(s||[]),r.on(n,function(e){s[0]=e,t.activate(o,"exec",s)})},n.EventBinding=e}(),function(){function e(e,t,n,r,i){if(e){var s=e.expressions;t.save(e),s&&i.push({target:t,locals:r,expressions:s})}}function t(e,t,n,r,i){if(e){var s=e.expressions;t.save(e),s&&i.push({target:t,locals:r,expressions:s})}}function r(e,n,r,i,s){e&&t(e,n.attrs,r,i,s)}function i(e,n,r,i,s){e&&t(e,n.style,r,i,s)}function s(e,n,r,i,s){e&&t(e,n.classes,r,i,s)}function a(e,t,n,r,i){if(e){t.on(e);var s=e.expressions;s&&i.push({target:t,locals:r,expressions:s})}}function o(t,n,o,c,l){e(t.props,n,o,c,l),r(t.attrs,n,o,c,l),i(t.style,n,o,c,l),s(t.classes,n,o,c,l),a(t.actions,n,o,c,l)}function c(e,t,n,r,i){var s,a,o,c,f,h,p,d=[],g=e.children;if(g&&g.length){for(s=0,a=g.length;s<a;++s)f=g[s],o=f.tag,o?f.directs?(h=l(f,n,r,i),p=!0):(c=f.type,c?h=w.create(c):(f.ns||(f.ns=e.ns),h=E.create(o,f.ns)),v(f,h,n,r,i),f.ref&&(n[f.ref]=h)):f instanceof T?(h=y.create(""),i.push({target:h,locals:r,expressions:{data:f}})):h=y.create(f),h&&(d.push(h),h=null);p?u(d,e,t,n,r):e.type&&t!==n?t.set("contents",d):t.children.reset(d)}}function l(e,t,n,r){var i=e.directs,s=_.create({mode:0,active:!0,results:null,keyEval:null,slotName:"",contents:null,fragment:null,template:e});if(i.xIf&&(s.active=!1,r.push({target:s,locals:n,expressions:{active:i.xIf.expression}})),i.xFor){var a=i.xFor.expression,o=a.template.evaluator.args[0];if(Array.isArray(o)){s.mode=1;var c=n[o.origin],l=o[o.length-1],u=o.length<2?c:x.search(o.slice(0,o.length-1),c,!0);if(u&&u.on&&u.send){var f=function(){u.send({type:"changed",name:l},u[l],u[l])},h=u[l];h&&h instanceof b&&h.on("changed",f),u.on("changed."+l,function(e,t,n){t!==n&&(n&&n instanceof b&&n.off("changed",f),t&&t instanceof b&&t.on("changed",f))})}}r.push({target:s,locals:n,expressions:{results:a}}),i.xKey&&(s.keyEval=i.xKey.evaluator)}else i.xSlot&&(s.mode=2,s.slotName=i.xSlot.name||"",t.on("changed.contents",function(){s.set("contents",t.contents)}));return s}function u(e,t,n,r,i){function s(){for(var s,a,o=[],c=0,l=e.length;c<l;++c)if(a=e[c],a instanceof m)o.push(a);else if(a.active){switch(a.mode){case 0:a.hasDirty("active")&&(P.clean(a,"active"),a.fragment=f(a.template,r,i));break;case 1:a.hasDirty("results")&&(P.clean(a,"results"),a.fragment=h(a.template,a.results,a.keyEval,a.fragment,r,i));break;case 2:a.hasDirty("contents")&&(P.clean(a,"contents"),a.fragment=p(a.slotName,a.contents))}s=a.fragment,s&&s.length&&o.push.apply(o,s),P.clean(a)}t.type&&n!==r?n.set("contents",o):n.children.reset(o)}for(var a=0,o=e.length;a<o;++a){var c=e[a];c instanceof _&&(c.onChange=s)}s()}function f(e,t,n){var r=e.type?w.create(e.type):E.create(e.tag,e.ns);return g(e,r,t,n),[r]}function h(e,t,n,r,i,s){var a,o,c,l,u,f,h,p=[],d={};for(r=r||A,t=t||A,h=0,f=r.length;h<f;++h)u=r[h].key,u&&(d[u]=h);for(Object.keys(d).length<r.length,h=0,f=t.length;h<f;++h)o=null,l=t[h],c=s.concat([l]),n&&(u=O.activate(n,"exec",c),a=d[u],null!=a&&(o=r[a],o.key=u,r[a]=null)),o||(o=e.type?w.create(e.type):E.create(e.tag,e.ns),g(e,o,i,c)),p.push(o);return p}function p(e,t){var n=[];if(t)for(var r=0,i=t.length;r<i;++r){var s=t[r];e===(s.props.xSlot||"")&&n.push(s)}return n}function d(e,t){var n,r,i,s,a,o,c,l;for(n=0,r=t.length;n<r;++n){i=t[n],a=i.target,o=i.locals,l=i.expressions;for(s in l)l.hasOwnProperty(s)&&(c=l[s],c&&T.activate(c,s,a,e,o))}}function v(e,t,n,r,i){o(e,t,n,r,i),c(e,t,n,r,i)}function g(e,t,r,i){r=r||t,r===t&&(i=[r]);var s=[];v(e,t,r,i,s),d(r,s),n.defineProp(r,"_template",{value:e,writable:!0,enumerable:!1,configurable:!0})}var y=n.Text,m=n.Shadow,E=n.Element,w=n.Component,x=n.RES,_=n.Container,b=n.Collection,O=n.Evaluator,T=n.Expression,P=n.DirtyMarker,A=[];n.HTMXEngine={start:g,build:v,parse:null}}(),function(){function e(e){n.assign(this,r),this.virtual=e,this.type=null}function t(t,n,i){var s=new e((!1)),a=typeof t;if("string"===a)s.tag=t;else{if("function"!==a)throw new TypeError("First argument must be string or constructor");s.type=t}if(n){s.type||(s.ns=n.ns||""),s.ref=n.ref,s.style=n.style,s.attrs=n.attrs,s.classes=n.classes,s.actions=n.actions,s.directs=n.directs;var o=s.props={};for(var c in n)n.hasOwnProperty(c)&&!r.hasOwnProperty(c)&&(o[c]=n[c])}return null==i||Array.isArray(i)||(i=[i]),s.children=i,s}var r={ns:"",tag:"",ref:"",props:null,attrs:null,style:null,classes:null,actions:null,directs:null,children:null};e.create=t,n.HTMXTemplate=e}(),function(){function e(e){return arguments[arguments.length-1]}function t(e){return!e}function r(e,t,n){return d.create(e,t,n)}function i(t){return d.create(e,t)}function s(e){return d.create(t,e)}function a(e,t){for(var n=t.length,r=[],i=[],s=0;s<n;++s)r.push({origin:s}),i.push(v.LOCAL_PATH);r.flags=i;var a=o(e),c=Function.apply(null,t.concat([a]));return d.create(c,r)}function o(e){return"try { return "+e+' } catch (error) { console.error("the expression `'+e.replace(/('|")/g,"\\$1")+'` is illegal"); throw error; }'}function c(e,t,n){for(var r,i,s,a,o,c,h=0,d=e.length;h<d;++h)r=e[h],c=void 0,s=v.INVARIABLE,c=p.parse(r),void 0===c&&(g.test(r)?(i=f.parse(r),o=n.indexOf(i[0]),o<0?c=u.search(i,t):(c=i,i.shift(),i.origin=o,s=v.LOCAL_PATH)):(s=v.EVALUATOR,c=l(r,t,n))),e[h]=c,s&&(a=a||[],a[h]=s);return e.flags=a,e}function l(e,t,n){var o,l,d,g,m,E,w,x;if(y.test(e))if(o=e.indexOf("!"),l=e.indexOf("("),l<0)g=e.slice(0!==o?0:1),d=p.parse(g),void 0===d&&(g=f.parse(g),w=n.indexOf(g[0]),w<0?d=u.search(g,t):(d=g,g.shift(),g.origin=w,E=[v.LOCAL_PATH])),m=[d],m.flags=E,x=0!==o?i(m):s(m);else{var _=h.range(e,l,"","()");if(_&&_[1]===e.length){if(g=e.slice(o<0?0:1,l),m=h.split(e.slice(l+1,e.length-1),",","()"),m=m.length?c(m,t,n):null,g=f.parse(g),w=n.indexOf(g[0]),g.length>1&&w>=0)g.origin=w,g.shift(),x={path:g,args:m};else{if(d=u.search(g,t),!d)throw new Error("can not find such resource `"+g+"`");x=d.exec?r(d.exec,m,d.back):r(d,m)}0===o&&(m=[x],m.flags=[v.EVALUATOR],x=s(m))}}return x||(x=a(e,n)),x}var u=n.RES,f=n.PathUtil,h=n.StringUtil,p=n.LiteralUtil,d=n.Evaluator,v=d.ARGUMENT_FLAGS,g=/^[\w\$]+((\[|\]?\.)[\w\$]+)*$/,y=/^!?[\w\$]+((\[|\]?\.)[\w\$]+)*(\(.*\))?$/;n.EvaluatorParser={parse:l}}(),function(){function e(e,n,o){e=e.trim();var c={};return a.test(e)?c.handler=e.slice(s):c.evaluator=i.parse(e,n,["event"].concat(o)),t.create(r,c)}var t=n.Expression,r=n.EventBinding,i=n.EvaluatorParser,s=n.CONTEXT_SYMBOL.length+1,a=new RegExp("^\\"+n.CONTEXT_SYMBOL+"\\.[\\w\\$]+$");n.EventBindingParser={parse:e}}(),function(){function e(e,t,n){var i,s,a;if(i=e.match(p))for(var o=0,c=i.length;o<c;++o)if(s=i[o],a=r.parse(s),"("===s[s.length-1]&&a.pop(),!(a.length<2))for(var l=0,u=n.length;l<u;++l)a[0]===n[l]&&(a.shift(),a.origin=l,t.push(a))}function t(t,n,r,p){var d,v,g=-1,y="";if(!n.trim())return null;switch(t){case l.ONE_TIME:g=u.ONE_TIME;break;case l.ONE_WAY:g=u.ONE_WAY;break;case l.TWO_WAY:g=u.TWO_WAY;break;default:return null}f.test(n)&&(v=n.lastIndexOf(c),y=n.slice(v+1),n=n.slice(0,v),d=y.trim(),d||(d="updated"));var m,E,w,x,_=i.split(n,"|","()");if(m=_[0].trim(),g===u.TWO_WAY&&!h.test(m))throw new Error("Illegal two-way binding expression `"+n+"`");if(w=o.parse(m,r,p),!d){var b=[];e(m,b,p)}if(_.length>1){for(E=[],v=1,x=_.length;v<x;++v)m=_[v].trim(),")"!==m[m.length-1]&&(m+="()"),d||e(m,b,p),E.push(o.parse(m,r,p));x>2&&console.warn(n,"better not use converters more than 2")}var O={mode:g,event:d,paths:b,evaluator:w,
converters:E};return s.create(a,O)}var r=n.PathUtil,i=n.StringUtil,s=n.Expression,a=n.DataBinding,o=n.EvaluatorParser,c=n.EVENT_OPERATOR,l=n.BINDING_OPERATORS,u=a.MODES,f=new RegExp("\\"+c+"(\\w(\\.\\w+)?)*[ ]*$"),h=/^[\w\$]+((\[|\]?\.)[\w\$]+)+$/,p=/[\w\$]+((\[|\]?\.)[\w\$]+)+\(?/g;n.DataBindingParser={parse:t}}(),function(){var e=n.StringUtil,t=n.Expression,r=n.TextBinding,i=n.DataBindingParser,s=n.BINDING_OPERATORS,a=n.DATA_BINDING_BRACKETS,o=new RegExp("["+s.ONE_TIME+s.ONE_WAY+s.TWO_WAY+"]\\"+a[0]+".+?\\"+a[1]);n.TextBindingParser={like:function(e){return o.test(e)},parse:function(n,o,c){for(var l,u,f,h,p=[0],d=[],v=e.range(n,-1,s.ONE_TIME,a),g=e.range(n,-1,s.ONE_WAY,a);g||v;)g?v&&v[0]<g[0]?(l=v[0],u=v[1],v=e.range(n,u,s.ONE_TIME,a)):(l=g[0],u=g[1],g=e.range(n,u,s.ONE_WAY,a)):g&&g[0]<v[0]?(l=g[0],u=g[1],g=e.range(n,u,s.ONE_WAY,a)):(l=v[0],u=v[1],v=e.range(n,u,s.ONE_TIME,a)),p.push(l,u);for(p.push(n.length),l=0,u=p.length-1;l<u;++l)f=n.slice(p[l],p[l+1]),l%2?(d[l]=i.parse(f[0],f.slice(2,f.length-1),o,c),d[l]instanceof t?h=!0:d[l]=f):d[l]=f;return h?t.create(r,d):null}}}(),function(){function e(e,t){var r,i,s,a,o,c,l=e.split(/;/g),u={};for(o=0,a=l.length;o<a;++o)r=l[o],c=r.indexOf(":"),c>0&&(e=r.slice(c+1).trim(),i=r.slice(0,c).trim(),s=t?n.Skin.toCamelCase(i):i,u[s]=e);return u}function t(t,r,i){var a=n.Skin;if(t.ns=a.getNameSpace(r),t.tag=a.getTagName(r),l.test(t.tag)){var o=n.Skin.toCamelCase(t.tag).slice(1);t.type=s.search(o,i)}var u=a.getAttrs(r);if(u){if(u["x-attrs"]&&(t.attrs=e(u["x-attrs"]),delete u["x-attrs"]),u["x-style"]&&(t.style=e(u["x-style"],!0),delete u["x-style"]),u["x-class"]&&(t.classes=e(u["x-class"],!0),delete u["x-class"]),u["x-type"]){if(t.type=s.search(u["x-type"],i),!t.type)throw new TypeError("can not find such type `"+u["x-type"]+"`");delete u["x-type"]}u["x-ref"]&&(t.ref=u["x-ref"],delete u["x-ref"]);var f,h={};u["x-if"]&&(h.xIf=u["x-if"],delete u["x-if"],f=!0),u["x-for"]&&(h.xFor=u["x-for"],delete u["x-for"],f=!0),u["x-key"]&&(h.xKey=u["x-key"],delete u["x-key"],f=!0),f&&(t.directs=h);var p,d,v,g={};for(p in u)u.hasOwnProperty(p)&&(v=p[p.length-1],d=c.test(v)?a.toCamelCase(p.slice(0,p.length-1))+v:a.toCamelCase(p),g[d]=u[p]);t.props=g}}function r(e,i,s){var o,c,l,u=n.Skin,f=u.getChildren(i),h=[];for(c=0,l=f.length;c<l;++c)if(o=f[c],!u.isComment(o))if(u.isElement(o)){var p=new a((!0));t(p,o,s),r(p,o,s),h.push(p)}else u.isText(o)&&h.push(u.getProp(o,"data"));h.length&&(e.children=h)}function i(e,i){var s=n.Skin;if(i=i||{},"string"==typeof e&&(e=s.parse(e.trim())[0]),!s.isElement(e))throw new TypeError("template must be DOM element or HTML string that contains a root tag");var o=new a((!0));return t(o,e,i),r(o,e,i),o}var s=n.RES,a=n.HTMXTemplate,o=n.BINDING_OPERATORS,c=new RegExp("[\\"+o.ONE_TIME+"\\"+o.ONE_WAY+"\\"+o.TWO_WAY+"\\"+o.EVENT+"\\"+o.TEXT+"]"),l=/^x-/i;n.HTMLParser={parse:i}}(),function(){function e(e,t){var n=e[t];return n||(n=e[t]={}),n}function t(e){return e.expressions||n.defineProp(e,"expressions",{value:{}}),e.expressions}function r(e){var t,n,r={};for(n=e.split(/\s+/),t=0;t<n.length;++t)r[n[t]]=!0;return r}function i(e,t,n){if(e&&!O.test(e)){if(E.like(e))var r=E.parse(e,t,n);return r||e}}function s(e,n,r,i,s){var a=t(e);a[n]=w.parse(r,i,s)}function a(e,n,r,i,s,a){var o,c=t(e);o=r!==_.TEXT?m.parse(r,i,s,a):E.parse(i,s,a),c[n]=o}function o(e,t,n,r){if(r&&n){r="*"!==r?r:"";var i=d.parse(n,r);e[t]=null!=i?i:r?i:n}else e[t]=n}function c(t,n,r){if(n){var i=e(t,"directs"),s=t.identifiers;if(n.xIf&&(i.xIf={expression:m.parse(_.ONE_WAY,n.xIf,r,s)}),n.xFor){if(n.xSlot)throw new Error("You should not use x-for on <slot>");var a=n.xFor,o=a.match(/[ ]*([\w\_]+)[ ]+of[ ]+(.+)/);if(!o)throw new Error('x-for="'+a+'" is illegal');var c=m.parse(_.ONE_WAY,o[2],r,s);if(c){var l=c.template.converters;l||(c.template.converters=l=[]),l.push(T),i.xFor={expression:c}}s=s.concat([o[1]]),t.identifiers=s,n.xKey&&(i.xKey={evaluator:y.parse(n.xKey,r,s)})}null!=n.xSlot&&(i.xSlot={name:n.xSlot})}}function l(t,n,r,i,c){if(n){var l,u,f,h,p=t.identifiers;for(f in n)n.hasOwnProperty(f)&&(h=f.length-1,l=f[h],u=n[f],b.test(l)?(f=f.slice(0,h),l===_.EVENT?s(e(t,"actions"),f,u,r,p):a(e(t,i),f,l,u,r,p)):c?o(e(t,i),f,u,"*"):e(t,i)[f]=u)}}function u(n,i){var s,a=n.props;if(i.ref&&(s=e(n,"attrs"),s["x-ref"]=i.ref,n.ref=i.ref),a){if(a.className){var o=a.className,c=r(o),l=n.classes||{};for(var u in c)c.hasOwnProperty(u)&&!l.hasOwnProperty(u)&&(l[u]=!0);n.classes=l,delete a.className}a.style&&(s=e(n,"attrs"),s.style=a.style,delete a.style);var f=a.expressions;f&&(f.className&&(s=e(n,"attrs"),t(s)["class"]=f.className,delete f.className),f.style&&(s=e(n,"attrs"),t(s).style=f.style,delete f.style))}}function f(t,n,r){t.ns=n.ns,t.tag=n.tag,t.type=n.type,t.actions=n.actions,"x-slot"===n.tag&&(e(n,"directs").xSlot=n.props&&n.props.name||""),c(t,n.directs,r),l(t,n.props,r,"props",n.virtual),l(t,n.style,r,"style",!1),l(t,n.attrs,r,"attrs",!1),l(t,n.classes,r,"classes",n.virtual),u(t,n)}function h(e,t,n){var r,s,a,o,c="",l=[],u=t.children,p=e.identifiers;if(u&&u.length){for(r=0,s=u.length;r<s;++r)o=u[r],"string"!=typeof o?(c&&(a=i(c,n,p),a&&l.push(a),c=""),a=new v,a.identifiers=p,f(a,o,n),h(a,o,n),l.push(a)):c+=o;c&&(a=i(c,n,p),a&&l.push(a)),e.children=l}}function p(e,t){t=t||{},e instanceof v||(e=g.parse(e,t));var n=new v;return n.identifiers=[x],f(n,e,t),h(n,e,t),n}var d=n.LiteralUtil,v=n.HTMXTemplate,g=n.HTMLParser,y=n.EvaluatorParser,m=n.DataBindingParser,E=n.TextBindingParser,w=n.EventBindingParser,x=n.CONTEXT_SYMBOL,_=n.BINDING_OPERATORS,b=new RegExp("[\\"+_.ONE_TIME+"\\"+_.ONE_WAY+"\\"+_.TWO_WAY+"\\"+_.EVENT+"\\"+_.TEXT+"]"),O=/^ *\r?\n *$/,T=n.Evaluator.create(function(e){return e?e.slice(0):[]});n.HTMXParser={parse:p},n.HTMXEngine.parse=p}(),function(){function e(e,t,r){var i=e.constructor.defaults;t=n.assign({},"function"==typeof i?i():null,t);for(var s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&e.unset(s);e.save(t)}function t(e,t){e=e||{};for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(t.set(n,void 0),delete t[n]);t.save(e)}function r(e,t){e.on(t)}function i(n,i){e(i,n.props,i._props),t(n.attrs,i.attrs),t(n.style,i.style),t(n.classes,i.classes),r(i,n.actions)}function s(e,t){var n=t.type,r=t.tag||"";return e.key===t.key&&(n?n===e.constructor:r===e.tag)}function a(e,t){var n;return e.type?(n=h.create(e.type),p.build(e,n,t)):e.tag?(n=f.create(e.tag,e.ns),p.build(e,n,t)):n=u.create(e),e.ref&&(t[e.ref]=n),n}function o(e,t,n){var r=t instanceof h&&t!==n?t.contents||[]:t.children;if(r!==e.children){for(var i,o,l=e.children||[],u=new Array(l.length),f=0,p=r.length-1,d=0,g=l.length-1,y=r[f],m=r[p],E=l[d],w=l[g];f<=p&&d<=g;)if(null==y)y=r[++f];else if(null==m)m=r[--p];else if(s(y,E))c(E,y,n),u[d]=y,y=r[++f],E=l[++d];else if(s(m,E))c(E,m,n),u[g]=m,m=r[--p],w=l[--g];else if(s(y,w))c(E,y,n),u[g]=y,y=r[++f],w=l[--g];else if(s(m,E))c(E,m,n),u[d]=m,m=r[--p],E=l[++d];else{if(!i){i={};for(var x=f;x<=p;++x)o=r[f].key,o&&(i[o]=x)}o=E.key,x=o&&i[o],null!=x&&s(r[x]||v,E)?u[d]=r[x]:u[d]=a(E,n),c(E,u[d],n),E=l[++d]}if(f>p)for(;d<=g;)u[d]=a(E,n),E=l[++d];t instanceof h&&t!==n?t.set("contents",u):t.children.reset(u)}}function c(e,t,n){e instanceof d?(i(e,t),o(e,t,n)):t.set("data",e)}function l(e,t,n){var r=d.create(e instanceof h?e.constructor:e.tag,t,n);return c(r,e,e),e}var u=n.Text,f=n.Element,h=n.Component,p=n.HTMXEngine,d=n.HTMXTemplate,v={};n.HTMXUpdater={update:l}}(),t?t.exports=n:e.Exact=n,n.global=e}("undefined"!=typeof global?global:null,"undefined"!=typeof module?module:null);