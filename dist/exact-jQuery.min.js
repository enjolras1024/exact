!function(e,t){"use strict";var n={version:"0.0.8"};!function(){var e=/\[|\]?\./;n.PathUtil={parse:function(t){return t?t.split(e):null}}}(),function(){var e="'".charCodeAt(0),t="\\".charCodeAt(0);n.StringUtil={split:function(n,r,i){var s,a,o,c,l,u,f,h,p=-1,d=-1,v=[];if(n=n.trim(),n[n.length-1]!==r&&(n+=r),s=n.length,1===s)return v;for(d=0,r=r.charCodeAt(0),i=[i.charCodeAt(0),i.charCodeAt(1)];++p<s;)a=n.charCodeAt(p),a===e&&o!==t&&(f=!f),f?o=a:(u?a===l?--u:a===c&&++u:(c=-1,l=-1,a===i[0]&&(c=a,l=i[1],u=1)),u||a!==r||(h=n.slice(d,p).trim(),v.push(h),d=p+1),o=a);return v},range:function(n,r,i,s){var a,o,c,l,u,f,h=n.length;if(a=n.indexOf(i+s[0],r),a>=0&&n.charCodeAt(a-1)!==t)for(o=a+i.length,c=1,s=[s.charCodeAt(0),s.charCodeAt(1)];++o<h;)if(l=n.charCodeAt(o),l===e&&u!==t&&(f=!f),f)u=l;else{if(l===s[1]){if(--c,!c)return[a,o+1]}else l===s[0]&&++c;u=l}return null}}}(),function(){function e(e){return c[e]}function t(e){try{return JSON.parse(e)}catch(t){}}function r(e){return!!o(e)}function i(e){return e}function s(e){return e.slice(1,e.length-1)}function a(e){return t(e)||null}function o(n,r){if(n=n.trim()){if(r){if(!(r in l))throw new Error("no such type of literal parser, try on json");return l[r](n)}return n in c?e(n):isNaN(n)?u.test(n)?s(n):t(n):Number(n)}}var c={"true":!0,"false":!1,NaN:NaN,"null":null,undefined:void 0},l={"boolean":r,number:Number,string:i,json:a},u=/^'.*'$/;n.LiteralUtil={parse:o,toNumber:Number,toBoolean:r,toAnyValue:t}}(),function(){n.EVENT_SYMBOL="event",n.EVENT_OPERATOR="^",n.CONTEXT_SYMBOL="$",n.DATA_BINDING_BRACKETS="{}",n.BINDING_OPERATORS={ONE_TIME:"&",ONE_WAY:"@",TWO_WAY:"#",EVENT:"+",TEXT:"?"}}(),function(){function e(e,t){var n,r,i;for(n=0,r=t.length;n<r;++n){i=t[n];for(var s in i)i.hasOwnProperty(s)&&Object.defineProperty(e,s,Object.getOwnPropertyDescriptor(i,s))}}var t={bind:function(){for(var e,t,n=this.target,r=0,i=arguments.length;r<i;++r)e=arguments[r],t=n[e],"function"==typeof t&&(n[e]=t.bind(n))}};n.help=function(e){return t.target=e,t},n.assign=function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");if(!(e instanceof Object)){var t=typeof e;"number"===t?e=new Number(e):"string"===t?e=new String(e):"boolean"===t&&(e=new Boolean(e))}var n,r,i,s=arguments.length;for(i=1;i<s;++i)if(n=arguments[i],n instanceof Object)for(r in n)n.hasOwnProperty(r)&&Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r));return e},n.setImmediate=function(e,t){if(!e)if(t){var n=[],r=0,i=document.createTextNode(""),s=new t(function(){for(var e;e=n.pop();)e();r=r?0:1});s.observe(i,{characterData:!0}),e=function(e){e&&(n.unshift(e),i.data=r)}}else e=function(e){setTimeout(e,0)};return e}("undefined"!=typeof setImmediate?setImmediate:null,"undefined"!=typeof MutationObserver?MutationObserver:null,"undefined"!=typeof requestAnimationFrame?requestAnimationFrame:null),n.defineClass=function(t){var n,r,i,s,a;if(t.hasOwnProperty("extend")){if(r=t.extend,"function"!=typeof r)throw new TypeError("superClass must be a function")}else r=Object;if(t.hasOwnProperty("constructor")){if(n=t.constructor,"function"!=typeof n)throw new TypeError("subClass must be a function")}else n=function(){r.apply(this,arguments)};return n.prototype=Object.create(r.prototype),a=[n.prototype],i=t.mixins,Array.isArray(i)&&a.push.apply(a,i),a.push(t),e(n.prototype,a),Object.defineProperty(n.prototype,"constructor",{value:n,enumerable:!1,writable:!0,configurable:!0}),a=[n,r],s=t.statics,s&&(i=s.mixins,Array.isArray(i)&&a.push.apply(a,i),a.push(s)),e(n,a),delete n.prototype.statics,delete n.prototype.entend,delete n.prototype.mixins,delete n.mixins,n}}(),function(){function e(e,t){for(var n=-1,r=e.length,i=t;++n<r;)if(i=i[e[n]],void 0===i||null===i)return i;return i}var t=n.PathUtil;n.RES={search:function(n,r,i){if("string"==typeof n&&(n=t.parse(n)),r)var s=e(n,r);return s||i||(s=e(n,this)),s},register:function(e,n,r){var i,s=this;"string"==typeof e&&(e=t.parse(e));for(var a=-1,o=e.length-1;++a<o;){if(i=s[e[a]],null==i)i=s[e[a]]={};else if(!(i instanceof Object))throw new TypeError("You can not register resource to "+typeof i);s=i}var c=e[a];return!r&&s.hasOwnProperty(c)?(console.warn("the resource on path `"+e.join(".")+"` already exists"),!1):(Object.defineProperty(s,c,{value:n,writable:!1,enumerable:!0,configurable:!0}),!0)}}}(),function(){function e(e){return l[e]||e.replace(f,function(e,t){return t?t.toUpperCase():""})}function t(e){return c[e]||e.replace(h,function(e,t){return"-"+t.toLowerCase()})}function r(){var e=this[0],t=arguments[0];if(t&&e[t])return e[t].apply(e,p.call(arguments,1))}if("undefined"==typeof jQuery)throw new Error("jQuery is required");var i=jQuery,s=1,a=2,o={accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:a,allowTransparency:0,alt:0,async:a,autoComplete:0,autoFocus:a,autoPlay:a,capture:a,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:s|a,cite:0,classID:0,className:0,cols:0,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:a,coords:0,crossOrigin:0,data:s,dateTime:0,"default":a,defer:a,dir:0,disabled:a,download:0,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:a,formTarget:0,frameBorder:0,headers:0,height:0,hidden:a,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:a,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:s|a,muted:s|a,name:0,nonce:0,noValidate:a,open:a,optimum:0,pattern:0,placeholder:0,poster:0,preload:0,profile:0,radioGroup:0,readOnly:a,referrerPolicy:0,rel:0,required:a,reversed:a,role:0,rows:0,rowSpan:0,sandbox:0,scope:0,scoped:a,scrolling:0,seamless:a,selected:s|a,shape:0,size:0,sizes:0,span:0,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:0,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:s,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,"typeof":0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:a,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},c=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[t]=t.toLowerCase());return n}(o);c.htmlFor="for",c.cssFloat="float",c.className="class",c.innerHTML="inner-html";var l=function(e){var t,n={};for(t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}(c),u={html:"http://www.w3.org/1999/xhtml",math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xlink:"http://www.w3.org/1999/xlink"},f=/-([a-z])?/g,h=/([A-Z])/g,p=Array.prototype.slice;n.defineClass({constructor:r,statics:{toCamelCase:e,isText:function(e){return e&&3===e[0].nodeType},isComment:function(e){return e&&8===e[0].nodeType},isElement:function(e){return e&&1===e[0].nodeType},isFragment:function(e){return e&&11===e[0].nodeType},createText:function(e){return i("<span></span>").text(e?e:" ").contents().eq(0)},createElement:function(e,t){if(t){var n;if("svg"===t&&"svg"!==e?n='<svg xmlns="'+u.svg+'"><'+e+"></"+e+"></svg>":"math"===t&&"math"!==e&&(n='<math xmlns="'+u.math+'"><'+e+"></"+e+"></math>"),n)return i(n).contents().eq(0)}return i("<"+e+">").eq(0)},parse:function(e){var t,n=e.indexOf(" "),r=e.indexOf(">"),s=e.slice(1,r<n?r:n);if(n=e.lastIndexOf("xmlns",r),n>0){var a=e.slice(n+7,e.indexOf('"',n+7));if("svg"!==s&&a===u.svg?t='<svg xmlns="'+a+'">'+e+"</svg>":"math"!==s&&a===u.math&&(t='<math xmlns="'+a+'">'+e+"</math>"),t)return[i(t).contents().eq(0)]}return[i(e).eq(0)]},getTagName:function(e){var t=e.prop("tagName");return t?t.toLowerCase():""},getNameSpace:function(e){var t=e.prop("namespaceURI")||e.attr("xmlns");return t&&t!==u.html?t===u.svg?"svg":t===u.math?"math":void 0:""},getAttrs:function(e){if(r.isElement(e)){for(var t,n,i={},s=e[0].attributes,c=0,u=s.length;c<u;++c)t=s[c],n=t.name,l.hasOwnProperty(n)&&o[l[n]]&a?i[n]="true":i[n]=t.value;return i}},hasProp:function(e,t){return t in e[0]},getProp:function(e,t){return r.isElement(e)?e.prop(t):e[0][t]},getChildren:function(e){return e.contents().toArray().map(function(e){return i(e)})},getParent:function(e){return e.parent()},getShadow:function(e){return e&&e._shadow},setShadow:function(e,t){t?e._shadow=t:delete e._shadow},query:function(e,t){return i(e).find(t).eq(0)},mayDispatchEvent:function(e,t){return"on"+t in e[0]},getFixedEvent:function(e){return e.key&&(e.keyName=e.key[0].toLowerCase()+e.key.slice(1)),e},addEventListener:function(e,t,n,r){e.on(t,n)},removeEventListener:function(e,t,n,r){e.off(t,n)},renderAttrs:function(e,t,n){var r,i;for(r in n)n.hasOwnProperty(r)&&(i=t[r],null!=i?e.attr(r,i):e.removeAttr(r))},renderProps:function(e,n,i){var s,a;for(s in i)i.hasOwnProperty(s)&&(a=n[s],r.isElement(e)?o[s]?e.prop(s,a):null==a?e.removeAttr(t(s)):r.hasProp(e,s)&&e.attr(t(s),a):e[0][s]=a)},renderStyle:function(e,t,n){for(var r in n)n.hasOwnProperty(r)&&e.css(r,t[r])},renderClasses:function(e,t,n){var r=[];for(var i in n)n.hasOwnProperty(i)&&t[i]&&r.push(i);e.attr("class",r.join(" "))},renderChildren:function(e,t){var n,r,i,s,a,o;if(r=t.length)for(n=0;n<r;++n)e.append(t[n].$skin);if(o=e.contents(),i=o.length,r<i)for(s=[],n=i-r;n>=0;--n)a=o.eq(n),s.push(a),a.detach();return s}}}),n.Skin=r}(),function(){function e(){this._actions=null}function t(e){var t;if(e.type)t=e;else{t={};var n=e.indexOf(".");n>0?(t.type=e.slice(0,n),t.keyName=e.slice(n+1)):t.type=e}return t}function r(e,n,r,i){var s=e._actions,a=e.constructor;if("function"!=typeof r)return null;s||(Object.defineProperty(e,"_actions",{value:{},writable:!1,enumerable:!1,configurable:!0}),s=e._actions);var o=t(n),c=s[o.type];c||(c=s[o.type]={handlers:[]});var l,u,f=c.handlers,h=o.keyName,p=f.length;for(u=0;u<p;++u)if(l=f[u],r===l.exec&&h===l.keyName)return c;return l={exec:r},h&&(l.keyName=h),i&&(l.useCapture=i),f.unshift(l),"listener"in c||("function"==typeof a.addEventListener?a.addEventListener(e,c,o.type):l.listener=null),c}function i(e,n,r,i){var s=e._actions,a=e.constructor,o=2===arguments.length;if(s){var c=t(n),l=s[c.type];if(l){var u,f,h=l.handlers,p=c.keyName,d=h.length;if(o&&!p)h.splice(0);else for(f=d-1;f>=0;--f)if(u=h[f],(o||r===u.exec)&&(!p||p===u.keyName)){h.splice(f,1);break}return 0===h.length&&(l.listener&&"function"==typeof a.removeEventListener&&a.removeEventListener(e,l,c.type),delete s[c.type]),l}}}function s(e){var t,n=e._actions;if(n)for(t in n)n.hasOwnProperty(t)&&i(e,t)}function a(e,n,r,i){var s,a=e._actions;if(a&&(r=t(r),s=a[r.type])){r.dispatcher=e,i&&n.unshift(r);var o,c,l,u,f=s.handlers;for(c=f.length,o=c-1;o>=0;--o)u=f[o],!u||u.keyName&&u.keyName!==r.keyName||1===r.eventPhase==!!u.useCapture&&(l=u.exec,l.apply(null,n))}}var o=Array.prototype.slice;n.defineClass({constructor:e,on:function(e,t,n){var i,s;if("object"==typeof e){i=e;for(e in i)i.hasOwnProperty(e)&&(s=i[e],Array.isArray(s)?r(this,e,s[0],s[1]):r(this,e,s))}else e&&r(this,e,t,n);return this},off:function(e,t,n){var r,a,o=arguments.length,c=typeof e;if(0===o)s(this);else if("string"===c)1===o?i(this,e):i(this,e,t,n);else if("object"===c){r=e;for(e in r)r.hasOwnProperty(e)&&(a=r[e],Array.isArray(a)?i(this,e,a[0],a[1]):i(this,e,a))}return this},once:function(e,t,n){function r(){i.off(e,r,n),t.apply(null,arguments)}var i=this;return this.on(e,r,n),this},emit:function(e){var t=o.call(arguments,1);return a(this,t,e,!1),this},send:function(e){var t=o.call(arguments,1);return a(this,t,e,!0),this}}),n.Watcher=e}(),function(){function e(e){return s.hasOwnProperty(e)||(s[e]=function(){return this.get(e)}),s[e]}function t(e){return a.hasOwnProperty(e)||(a[e]=function(t){this.set(e,t)}),a[e]}function r(){throw new Error("Accessor is abstract class and can not be instantiated")}var i={enumerable:!0,configurable:!0},s={},a={};n.defineClass({constructor:r,statics:{define:function(n,r){i.get=e(r),i.set=t(r),Object.defineProperty(n,r,i)}},get:function(e){throw new Error("this method must be implemented by sub-class")},set:function(e,t){throw new Error("this method must be implemented by sub-class")},save:function(e){for(var t in e)e.hasOwnProperty(t)&&this.set(t,e[t])},unset:function(e){this.set(e,void 0),delete this[e]}}),n.Accessor=r}(),function(){function e(){s=0,o=!0;for(var e;s<r.length;)e=r[s],e.update(),++s;for(var t=0,n=i.length;t<n;++t)e=i[t],e.render();a=!1,o=!1,i.splice(0),r.splice(0),s=0}var t=n.setImmediate,r=[],i=[],s=0,a=!1,o=!1;n.Schedule={insert:function(n){var i,c=r.length,l=n.guid;if(o)for(i=s;i<c&&l>=r[i].guid;)++i;else{for(i=c-1;i>=0&&l<r[i].guid;)--i;++i}r.splice(i,0,n),a||(a=!0,t(e))},append:function(e){i.push(e)}}}(),function(){function e(e){if(e instanceof Object){var t=e.constructor;return t.fullName||t.name}return typeof e}function t(e,t,n,r){return new TypeError("`"+t+"` of type `"+(e||"<<anonymous>>")+"` should be `"+n+(r?"`, not `"+r:"")+"`")}function r(e,t,n,r){for(var i=[],s=0,a=n.length;s<a;++s)i.push("`"+(n[s].name||n[s])+"`");return new TypeError("`"+t+"` of type `"+(e||"<<anonymous>>")+"` should be "+i.join(" or ")+(r?", not `"+r:"")+"`")}function i(n,i,s,a){var o,c,l=typeof a;if("string"===l&&typeof s!==a?(l=a,o=!0):"function"!==l||s instanceof a||(l=a.fullName||a.name,o=!0),o)return c=n.constructor,t(c.fullName||c.name,i,l,e(s));if(Array.isArray(a)){for(var u=0,f=a.length;u<f&&(l=typeof a[u],!("string"===l&&typeof s===a[u]||"function"===l&&s instanceof a[u]));++u);if(u===f)return c=n.constructor,r(c.fullName||c.name,i,a,e(s))}}function s(e,t,n,r){if(!r.test(n))return new Error(n+" does not match the pattern "+r.toString()+" of the property `"+t+"` in "+e.toString())}n.Validator={validate:function(e,t,n,r){if(!r.type&&!r.validator)return!0;var a,o,c,l;return c=r.type,o=r.validator,c&&(l=!0,a=i(e,t,n,c)),!a&&o&&(l=!0,a="function"==typeof o?o.call(e,n,t):s(e,t,n,o)),l&&e.on&&e.send&&e.send("validated."+t,a),!a||(console.warn("Invalid:",a.message),!1)}}}(),function(){function e(e,n){var r,s,o,c,l,u,f=e.flags,h=e.slice(0);if(f&&f.length)for(r=0,s=f.length;r<s;++r)u=f[r],u===a.LOCAL_PATH?(c=e[r],o=c.length,l=n[c.origin],h[r]=1===o?l[c[0]]:o?i.search(c,l,!0):l):u===a.EVALUATOR&&(h[r]=t(e[r],"exec",n));return h}function t(t,n,r,a){var o,c,l=null;if(o=t[n],!o){var u=t.path,f=u.length-1;l=f?i.search(u.slice(0,f),r[u.origin],!0):r[u.origin],o=l[u[f]]}return c=e(t.args||s,r),arguments.length>3&&c.unshift(a),o.apply(l,c)}function r(e,t,n){this.exec=e,this.back=n,this.args=t}var i=n.RES,s=[],a={EVALUATOR:-1,INVARIABLE:0,LOCAL_PATH:1};r.ARGUMENT_FLAGS=a,r.activate=t,r.create=function(e,t,n){return new r(e,t,n)},n.Evaluator=r}(),function(){function e(e,t){this.compiler=e,this.template=t}e.create=function(t,n){return new e(t,n)},e.activate=function(e,t,n,r,i){var s=e.compiler,a=e.template;s&&s.compile&&s.compile(a,t,n,r,i)},n.Expression=e}(),function(){function e(){throw new Error("DirtyMarker is static class and can not be instantiated")}n.defineClass({constructor:e,statics:{check:function(e,t,n,r){var i=e._dirty;i||(i={},Object.defineProperty(e,"_dirty",{value:i,enumerable:!1,writable:!0,configurable:!0})),t in i?i[t]===n&&delete i[t]:i[t]=r},clean:function(e,t){t?delete e._dirty[t]:e._dirty=null}},hasDirty:function(e){var t=this._dirty;return!!t&&(null==e||t.hasOwnProperty(e))}}),n.DirtyMarker=e}(),function(){function e(){var e=arguments.length,t=arguments[0];e&&(1===e&&"number"==typeof t?this.push.apply(this,new Array(t)):this.push.apply(this,arguments))}function t(e,t){e.isInvalidated=!0,e.send(t?"changed."+t:"changed")}var r=n.Watcher,i=Array.prototype;n.defineClass({constructor:e,extend:Array,mixins:[r.prototype],statics:{from:function(t){var n=new e;return n.push.apply(n,t),n},clean:function(e){e.isInvalidated=!1}},push:function(){return arguments.length&&(i.push.apply(this,arguments),t(this,"length")),this.length},pop:function(){if(this.length){var e=i.pop.call(this);t(this,"length")}return e},unshift:function(){return arguments.length&&(i.unshift.apply(this,arguments),t(this,"length")),this.length},shift:function(){if(this.length){var e=i.shift.call(this);t(this,"length")}return e},splice:function(){var e=this.length,n=i.splice.apply(this,arguments);return t(this,this.length!==e?"length":""),n},sort:function(e){return i.sort.call(this,e),t(this),this},reverse:function(){return i.reverse.call(this),t(this),this},set:function(e,n){if(e>=this.length){for(var r=this.length;r<e;++r)i.push.call(this,void 0);i.push.call(this,n)}else{if(this[e]===n)return this;this[e]=n}t(this)},reset:function(e){var n,r,s,a;for(r=this.length,s=e.length,r>s&&(i.splice.call(this,s),a=!0),n=0;n<s;++n)a||this[n]===e[n]||(a=!0),this[n]=e[n];this.length=s,a&&t(this,s!=r?"length":"")},insert:function(e,n){var r,s;if(s=this.length,n&&n===e)return this;for(r=0;r<s;++r)if(this[r]===e){i.splice.call(this,r,1),s=this.length;break}if(null!=n){for(r=0;r<s&&this[r]!==n;++r);if(r===s)throw new Error("The item before which the new item is to be inserted is not existed in this collection");i.splice.call(this,r,0,e)}else i.push.call(this,e);t(this,"length")},remove:function(e){var n,r;for(n=0,r=this.length;n<r&&this[n]!==e;++n);if(n===r)throw new Error("The item is to be removed is not existed in this collection");n<r-1?i.splice.call(this,n,1):i.pop.call(this),t(this,"length")},replace:function(e,n){if(e!==n){var r,i;for(r=0,i=this.length;r<i&&this[r]!==n;++r);if(r===i)throw new Error("The item to be replaced is not existed in this collection");this.set(r,e),t(this)}}}),n.Collection=e}(),function(){function e(e,t){this.onChange=t,e&&this.save(e)}var t=n.Accessor,r=n.DirtyMarker;n.defineClass({constructor:e,mixins:[t.prototype,r.prototype],statics:{create:function(t,n){return new e(t,n)}},set:function(e,t){var n=this[e];t!==n&&(this[e]=t,r.check(this,e,t,n),this.onChange&&this.onChange())}}),n.Container=e}(),function(){function e(t){e.initialize(this,t)}var t=n.Watcher,r=n.Accessor;n.defineClass({constructor:e,mixins:[r.prototype,t.prototype],statics:{create:function(t){return new e(t)},initialize:function(e,t){e._props||Object.defineProperty(e,"_props",{value:{}}),e.save(t)}},get:function(e){return this._props[e]},set:function(e,t){var n=this._props;n.hasOwnProperty(e)||(r.define(this,e),n[e]=null);var i=n[e];t!==i&&(n[e]=t,this.send("changed."+e,t,i))}}),n.Store=e}(),function(){function e(e){return f.create(null,e.invalidate)}function t(e){var t=new h;return t.on("changed",e.invalidate),t}function r(){return this._attrs||Object.defineProperty(this,"_attrs",{value:e(this),configurable:!0}),this._attrs}function i(){return this._props}function s(){return this._style||Object.defineProperty(this,"_style",{value:e(this),configurable:!0}),this._style}function a(){return this._classes||Object.defineProperty(this,"_classes",{value:e(this),configurable:!0}),this._classes}function o(){return this._children||Object.defineProperty(this,"_children",{value:t(this),configurable:!0}),this._children}function c(e,t){var n,r=e.ns,i=e.tag;return(!t||i!==u.getTagName(t)||r!==u.getNameSpace(t)||(n=t?u.getShadow(t):null)&&n!==e)&&(t=i?u.createElement(i,r):u.createText("")),e.attach(t),t}function l(){throw new Error("Shadow is abstract and can not be instantiated")}var u=n.Skin,f=n.Container,h=n.Collection,p=n.Watcher,d=n.Accessor,v=n.Schedule,g=n.DirtyMarker,y=n.setImmediate,m=0,w=function(e){Object.defineProperty(e,"_props",{value:{},writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(e,"props",{get:i}),e.tag&&(Object.defineProperty(e,"attrs",{get:r}),Object.defineProperty(e,"style",{get:s}),Object.defineProperty(e,"classes",{get:a}),Object.defineProperty(e,"children",{get:o}))};n.defineClass({constructor:l,mixins:[p.prototype,d.prototype,g.prototype],invalidate:function(e,t,n){this.isInvalidated||(this.isInvalidated=!0,v.insert(this))},update:function(){if(this.isInvalidated){this.refresh&&this.refresh();var e=this.$skin;if(e){var t,n,r=this._children;if(r&&r.isInvalidated)for(var i=0,s=r.length;i<s;++i)t=r[i],t.$skin||(n=n||u.getChildren(e),c(t,n[i]))}else c(this);v.append(this),this.isInvalidated=!1,this.send("updated")}},render:function(){var e=this.$skin;if(e){var t=this._dirty,n=this._props,r=this._attrs,i=this._style,s=this._classes,a=this._children;if(t&&(u.renderProps(e,n,t),g.clean(this)),this.tag&&(r&&r._dirty&&(u.renderAttrs(e,r,r._dirty),g.clean(r)),i&&i._dirty&&(u.renderStyle(e,i,i._dirty),g.clean(i)),s&&s._dirty&&(u.renderClasses(e,s,s._dirty),g.clean(s)),a&&a.isInvalidated)){n.hasOwnProperty("innerHTML")&&a.length&&console.error("You'd better not use innerHTML and children together.");var o=u.renderChildren(e,a);if(o&&o.length)for(var c=0,f=o.length;c<f;++c){var p=u.getParent(o[c]),d=u.getShadow(o[c]);!p&&d&&(d.detach(),l.destroy(d))}h.clean(a)}}},attach:function(e){var t=u.getShadow(e);if(t){if(t===this)return;throw new Error("a shadow can not attach a $skin that has been attached")}if(this.tag!==u.getTagName(e))throw new Error("a shadow can not attach a $skin that has a different tag");if(this.ns!==u.getNameSpace(e))throw new Error("a shadow can not attach a $skin that has a different namespace");Object.defineProperty(this,"$skin",{value:e,writable:!0,enumerable:!1,configurable:!0}),u.setShadow(e,this);var n,r,i=this._actions;if(i)for(n in i)i.hasOwnProperty(n)&&(r=i[n],r&&l.addEventListener(this,r,n));this.invalidate()},detach:function(){var e,t,n=this._actions,r=this.$skin;if(n)for(e in n)n.hasOwnProperty(e)&&(t=n[e],t&&l.removeEventListener(this,t,e));u.setShadow(r,null),this.$skin=null},toString:function(){var e=this.constructor;return(e.fullName||e.name)+"<"+this.tag+">("+this.guid+")"},blur:function(){var e=this.$skin;e&&y(function(){u.call(e,"blur")})},focus:function(){var e=this.$skin;e&&y(function(){u.call(e,"focus")})},get:function(e){return this._props[e]},set:function(e,t){var n=this._props,r=n[e];t!==r&&(n[e]=t,g.check(this,e,t,r),this.invalidate())},statics:{initialize:function(e,t,n){e.invalidate=e.invalidate.bind(e),Object.defineProperty(e,"guid",{value:++m,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(e,"tag",{value:t,writable:!1,enumerable:!1,configurable:!1}),Object.defineProperty(e,"ns",{value:n,writable:!1,enumerable:!1,configurable:!1}),w(e)},destroy:function(e){e.off(),g.clean(e);var t,n=e._children;if(n)for(t=n.length-1;t>=0;--t)l.destroy(n[t]);var r,i=e._bindings;if(i)for(t=i.length-1;t>=0;--t)r=i[t],r.constructor.clean(r);e.release&&e.release()},addEventListener:function(e,t,n){var r=e.$skin;r&&(u.mayDispatchEvent(r,n)?(t.listener=function(t){e.send(u.getFixedEvent(t))},u.addEventListener(r,n,t.listener,t.useCapture)):t.listener=null)},removeEventListener:function(e,t,n){var r=e.$skin;r&&t.listener&&u.mayDispatchEvent(r,n)&&(u.removeEventListener(r,n,t.listener,t.useCapture),delete t.listener)}}}),n.Shadow=l}(),function(){function e(t){e.initialize(this,t)}var t=n.Shadow;n.defineClass({constructor:e,extend:t,statics:{create:function(t){return new e(t)},initialize:function(n,r){if(n.constructor!==e)throw new TypeError("Text is final class and can not be extended");t.initialize(n,"",""),n.set("data",r||"")}},toString:function(){return'"'+(this.data.length<24?this.data:this.data.slice(0,21)+"...")+'"('+this.guid+")"}}),n.Text=e}(),function(){function e(t,n,r){e.initialize(this,t,n,r)}var t=n.Shadow,r=n.Watcher;n.defineClass({constructor:e,extend:t,mixins:[r.prototype],statics:{initialize:function(n,r,i,s){if(n.constructor!==e)throw new TypeError("Element is final class and can not be extended");t.initialize(n,i,s||""),n.save(r)},create:function(t,n,r){return new e(r,t,n)}}}),n.Element=e}(),function(){function e(e,t,n){if(Array.isArray(t)){var i,s,o=t;for(i=0,s=o.length;i<s;++i)t[o[i]]=l}t=r({},e.__descriptors__,t);var c,u;if(n)for(c in n)n.hasOwnProperty(c)&&!t.hasOwnProperty(c)&&(t[c]=l);for(c in t)t.hasOwnProperty(c)&&!e.hasOwnProperty(c)&&(a.define(e,c),u=t[c]||l,t[c]="object"!=typeof u?{type:u}:u);Object.defineProperty(e,"__descriptors__",{value:t})}function t(e){this.register(),t.initialize(this,e),this.ready()}var r=n.assign,i=n.Shadow,s=n.Watcher,a=n.Accessor,o=n.Validator,c=n.DirtyMarker,l={};n.defineClass({constructor:t,extend:i,mixins:[s.prototype,a.prototype],__descriptors__:{contents:l},statics:{create:function(e,t){return new e(t)},initialize:function(t,s){var a=t.constructor,o=a.prototype,c=a._template,l=a.resources,u=a.descriptors,f=a.defaults;if(!c){var h=a.template;if(h&&(c=n.HTMXParser.parse(h,l)),!c)throw new TypeError("The template must be legal HTML string or DOM element");a._template=c}i.initialize(t,c.tag,c.ns),f="function"==typeof f?f():null,o.hasOwnProperty("__descriptors__")||e(o,u,f),t.save(s?r({},f,s):f),n.HTMXCompiler.compile(c,t)}},get:function(e){var t=this._props,n=this.__descriptors__,r=n[e],i=r.get;return i?i.call(this,t):t[e]},set:function u(e,t){var n,r=this._props,i=this.__descriptors__,s=i[e];if(s){if(!o.validate(this,e,t,s))return;var a=s.coerce,l=s.get,u=s.set;n=l?l.call(this):r[e],a&&(t=a.call(this,t)),t!==n&&(u?u.call(this,t):r[e]=t,s["native"]&&c.check(this,e,t,n),this.send("changed."+e,t,n),this.invalidate())}else n=r[e],t!==n&&(r[e]=t,c.check(this,e,t,n),this.invalidate())},register:function(){},ready:function(){},refresh:function(){},release:function(){}}),n.Component=t}(),function(){function e(){}n.defineClass({constructor:e,statics:{assign:function(e,t,n){e.set?e.set(t,n):e[t]=n},record:function(e,t){var n=e._bindings;n?n.push(t):Object.defineProperty(e,"_bindings",{value:[t],writable:!1,enumerable:!1,configurable:!0})},remove:function(e,t){var n=e._bindings;n.splice(n.lastIndexOf(t),1)}}}),n.Binding=e}(),function(){function e(e,t,n,r,i,s,a,o,c,u,f){this.mode=e,this.context=t,this.locals=n,this.target=r,this.source=i,this.evaluator=s,this.converters=a,this.targetProp=o,this.sourceProp=c,this.event=u,this.paths=f,this.exec=this.exec.bind(this),e===l.TWO_WAY&&(this.back=this.back.bind(this))}function t(e,t,n,r){var i,s,a,o,l;if(!e.length)return r;for("exec"===t?(s=0,o=1,a=e.length):(s=e.length-1,o=-1,a=-1),i=s;i!==a;i+=o)l=e[i],r=c.activate(l,t,n,r);return r}function r(e,t,n,r,i){var s=r.__descriptors__,a=s&&s[t];if(a&&a.depends){var c,l,u,f=a.depends;for(c=0,l=f.length;c<l;++c)u=o.parse(f[c]),u.origin=i,n.push(u);return n[e]=null,!0}}function i(e,t,n,i){if(!n||!t||!t.length)return 0;var a,o,c,l,u,f,h=0;for(a=0;a<t.length;++a)c=t[a],c&&(o=c.length-1,u=n[c.origin],l=c[o],f=o<1?u:s.search(c.slice(0,o),u,!0),"on"===e&&r(a,l,t,f,c.origin)||(f&&f[e]?(f[e]("changed."+l,i),h=1):t[a]=null));return h}var s=n.RES,a=n.Binding,o=n.PathUtil,c=n.Evaluator,l=(n.Collection,{ONE_TIME:0,ONE_WAY:1,TWO_WAY:2});n.defineClass({constructor:e,statics:{MODES:l,compile:function(t,n,r,o,c){var u=t.mode,f=t.paths,h=t.event,p=t.evaluator,d=t.converters;if(c=c||[],u===l.TWO_WAY){var v,g,y,m;m=f[0],v=m.length-1,y=m[v],g=s.search(m.slice(0,v),c[m.origin],!0)}var w=new e(u,o,c,r,g,p,d,n,y,h,h?null:f);w.exec();var x,E=u===l.ONE_TIME?"once":"on";return h?(o.on(h,w.exec),x=1):x=i(E,f,c,w.exec),x&&a.record(r,w),u===l.TWO_WAY&&r.on&&r.on("changed."+n,w.back),w},clean:function(e){var t,n=e.mode,r=e.target,s=e.locals,o=e.context;n!==l.ONE_TIME&&(e.event?o.off&&(o.off(e.event,e.exec),t=1):t=i("off",e.paths,s,e.exec),t&&a.remove(r,e),e.mode===l.TWO_WAY&&r.off&&r.off("changed."+e.targetProp,e.back))}},exec:function(){var n,r=this.locals,i=this.evaluator,s=this.converters,o=this.target,u=this.targetProp;n=c.activate(i,"exec",r),s&&(n=t(s,"exec",r,n)),a.assign(o,u,n),this.mode===l.ONE_TIME&&e.clean(this)},back:function(){var e,n=this.locals,r=this.converters,i=this.source,s=this.sourceProp,o=this.target,c=this.targetProp;e=o[c],r&&(e=t(r,"back",n,e)),a.assign(i,s,e)}}),n.DataBinding=e}(),function(){function e(e,t,n,r){this.exec=this.exec.bind(this),this.property=e,this.target=t,this.context=n,this.container=r}var t=n.Container,r=n.Binding,i=n.Expression,s=n.DataBinding,a=n.DirtyMarker,o=Array.prototype.join;n.defineClass({constructor:e,statics:{compile:function(n,s,a,o,c){var l,u,f,h=t.create(null,o.invalidate);for(l=0,u=n.length;l<u;++l)f=n[l],f instanceof i?i.activate(f,l,h,o,c):h[l]=f;h.length=u;var p=new e(s,a,o,h);r.record(a,p),p.exec(),o.on("updated",p.exec)},clean:function(e){e.context.off("updated",e.exec);var t=e.container._bindings;if(t)for(var n=t.length-1;n>=0;--n)s.clean(t[n]);r.remove(e.target,e)}},exec:function(){var e=this.container;e.hasDirty()&&(r.assign(this.target,this.property,o.call(e,"")),a.clean(e))}}),n.TextBinding=e}(),function(){function e(){this.evaluator=null,this.handler=""}var t=n.Evaluator;e.compile=function(e,n,r,i,s){var a=e.handler,o=e.evaluator;a?r.on(n,i[a]):(s=[null].concat(s||[]),r.on(n,function(e){s[0]=e,t.activate(o,"exec",s)}))},n.EventBinding=e}(),function(){function e(){this.ns="",this.tag="",this.type=null,this.key="",this.ref="",this.props=null,this.attrs=null,this.style=null,this.classes=null,this.actions=null,this.directs=null,this.children=null,this.actual=!1}function t(t,n,r){var i=new e;if(i.actual=!0,"string"==typeof t)i.tag=t;else{if("function"!=typeof t)throw new TypeError("");i.type=t}if(n){i.type||(i.ns=n.ns||""),i.key=n.key,i.actions=n.on,i.ref=n.ref,i.style=n.style,i.attrs=n.attrs,i.classes=n.classes,i.directs=n.directs;var s=i.props={};for(var a in n)n.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(s[a]=n[a])}return null==r||Array.isArray(r)||(r=[r]),i.children=r,i}e.create=t,n.HTMXTemplate=e}(),function(){function e(e,t,n,r,i){if(e){var s=e.expressions;t.save(e),s&&i.push({target:t,locals:r,expressions:s})}}function t(e,t,n,r,i){if(e){var s=e.expressions;t.save(e),s&&i.push({target:t,locals:r,expressions:s})}}function r(e,n,r,i,s){e&&t(e,n.attrs,r,i,s)}function i(e,n,r,i,s){e&&t(e,n.style,r,i,s)}function s(e,n,r,i,s){e&&t(e,n.classes,r,i,s)}function a(e,t,n,r,i){if(e){t.on(e);var s=e.expressions;s&&i.push({target:t,locals:r,expressions:s})}}function o(t,n,o,c,l){e(t.props,n,o,c,l),r(t.attrs,n,o,c,l),i(t.style,n,o,c,l),s(t.classes,n,o,c,l),a(t.actions,n,o,c,l)}function c(e,t,n,r,i){var s,a,o,c,f,h,p,d=[],g=e.children;if(g&&g.length){for(s=0,a=g.length;s<a;++s)f=g[s],o=f.tag,o?f.directs?(h=l(f,n,r,i),p=!0):(c=f.type,c?h=x.create(c):(f.ns||(f.ns=e.ns),h=w.create(o,f.ns)),v(f,h,n,r,i),f.ref&&(n[f.ref]=h)):f instanceof T?(h=y.create(""),i.push({target:h,locals:r,expressions:{data:f}})):h=y.create(f),h&&(d.push(h),h=null);p?u(d,e,t,n,r):e.type&&t!==n?t.set("contents",d):t.children.reset(d)}}function l(e,t,n,r){var i=e.directs,s=b.create({mode:0,active:!0,results:null,keyEval:null,slotName:"",contents:null,fragment:null,template:e});if(i.xIf&&(s.active=!1,r.push({target:s,locals:n,expressions:{active:i.xIf.expression}})),i.xFor){var a=i.xFor.expression,o=a.template.evaluator.args[0];if(Array.isArray(o)){s.mode=1;var c=n[o.origin],l=o[o.length-1],u=o.length<2?c:E.search(o.slice(0,o.length-1),c,!0);if(u&&u.on){var f=function(){u.send("changed."+l,u[l],u[l])},h=u[l];h&&h instanceof O&&h.on("changed",f),u.on("changed."+l,function(e,t,n){n&&n instanceof O&&n.off("changed",f),t&&t instanceof O&&t.on("changed",f)})}}r.push({target:s,locals:n,expressions:{results:a}}),i.xKey&&(s.keyEval=i.xKey.evaluator)}else i.xSlot&&(s.mode=2,s.slotName=i.xSlot.name||"",t.on("changed.contents",function(){s.set("contents",t.contents)}));return s}function u(e,t,n,r,i){function s(){for(var s,a,o=[],c=0,l=e.length;c<l;++c)if(a=e[c],a instanceof m)o.push(a);else if(a.active){switch(a.mode){case 0:a.hasDirty("active")&&(P.clean(a,"active"),a.fragment=f(a.template,r,i));break;case 1:a.hasDirty("results")&&(P.clean(a,"results"),a.fragment=h(a.template,a.results,a.keyEval,a.fragment,r,i));break;case 2:a.hasDirty("contents")&&(P.clean(a,"contents"),a.fragment=p(a.slotName,a.contents))}s=a.fragment,s&&s.length&&o.push.apply(o,s),P.clean(a)}t.type&&n!==r?n.set("contents",o):n.children.reset(o)}for(var a=0,o=e.length;a<o;++a){var c=e[a];c instanceof b&&(c.onChange=r.invalidate)}r.on("updated",s),s()}function f(e,t,n){var r=e.type?x.create(e.type):w.create(e.tag,e.ns);return g(e,r,t,n),[r]}function h(e,t,n,r,i,s){var a,o,c,l,u,f,h,p=[],d={};for(r=r||A,t=t||A,h=0,f=r.length;h<f;++h)u=r[h].key,u&&(d[u]=h);for(Object.keys(d).length<r.length,
h=0,f=t.length;h<f;++h)o=null,l=t[h],c=s.concat([l]),n&&(u=_.activate(n,"exec",c),a=d[u],null!=a&&(o=r[a],r[a]=null)),o||(o=e.type?x.create(e.type):w.create(e.tag,e.ns),g(e,o,i,c)),o.key=u,p.push(o);return p}function p(e,t){var n=[];if(t)for(var r=0,i=t.length;r<i;++r){var s=t[r];e===(s.props.slot||"")&&n.push(s)}return n}function d(e,t){var n,r,i,s,a,o,c,l;for(n=0,r=t.length;n<r;++n){i=t[n],a=i.target,o=i.locals,l=i.expressions;for(s in l)l.hasOwnProperty(s)&&(c=l[s],c&&T.activate(c,s,a,e,o))}}function v(e,t,n,r,i){o(e,t,n,r,i),c(e,t,n,r,i)}function g(e,t,n,r){n=n||t,n===t&&(r=[n]);var i=[];v(e,t,n,r,i),d(n,i),n._template=e}var y=n.Text,m=n.Shadow,w=n.Element,x=n.Component,E=n.RES,O=n.Collection,b=n.Container,_=n.Evaluator,T=n.Expression,P=n.DirtyMarker,A=[];n.HTMXCompiler={initialize:v,compile:g}}(),function(){function e(e){return arguments[arguments.length-1]}function t(e){return!e}function r(e,t,n){return d.create(e,t,n)}function i(t){return d.create(e,t)}function s(e){return d.create(t,e)}function a(e,t){for(var n=t.length,r=[],i=[],s=0;s<n;++s)r.push({origin:s}),i.push(v.LOCAL_PATH);r.flags=i;var a=o(e),c=Function.apply(null,t.concat([a]));return d.create(c,r)}function o(e){return"try { return "+e+'; } catch (error) { console.error("the expression `'+e+'` is illegal"); throw error; }'}function c(e,t,n){for(var r,i,s,a,o,c,h=0,d=e.length;h<d;++h)r=e[h],c=void 0,s=v.INVARIABLE,c=p.parse(r),void 0===c&&(g.test(r)?(i=f.parse(r),o=n.indexOf(i[0]),o<0?c=u.search(i,t):(c=i,i.shift(),i.origin=o,s=v.LOCAL_PATH)):(s=v.EVALUATOR,c=l(r,t,n))),e[h]=c,s&&(a=a||[],a[h]=s);return e.flags=a,e}function l(e,t,n){var o,l,d,g,m,w,x,E;if(y.test(e))if(o=e.indexOf("!"),l=e.indexOf("("),l<0)g=e.slice(0!==o?0:1),d=p.parse(g),void 0===d&&(g=f.parse(g),x=n.indexOf(g[0]),x<0?d=u.search(g,t):(d=g,g.shift(),g.origin=x,w=[v.LOCAL_PATH])),m=[d],m.flags=w,E=0!==o?i(m):s(m);else{var O=h.range(e,l,"","()");if(O&&O[1]===e.length){if(g=e.slice(o<0?0:1,l),m=h.split(e.slice(l+1,e.length-1),",","()"),m=m.length?c(m,t,n):null,g=f.parse(g),x=n.indexOf(g[0]),g.length>1&&x>=0)g.origin=x,g.shift(),E={path:g,args:m};else{if(d=u.search(g,t),!d)throw new Error("can not find such resource `"+g+"`");E=d.exec?r(d.exec,m,d.back):r(d,m)}0===o&&(m=[E],m.flags=[v.EVALUATOR],E=s(m))}}return E||(E=a(e,n)),E}var u=n.RES,f=n.PathUtil,h=n.StringUtil,p=n.LiteralUtil,d=n.Evaluator,v=d.ARGUMENT_FLAGS,g=/^[\w\$]+((\[|\]?\.)[\w\$]+)*$/,y=/^!?[\w\$]+((\[|\]?\.)[\w\$]+)*(\(.*\))?$/;n.EvaluatorParser={parse:l}}(),function(){function e(e,n,o){e=e.trim();var c={};return a.test(e)?c.handler=e.slice(s):c.evaluator=i.parse(e,n,["event"].concat(o)),t.create(r,c)}var t=n.Expression,r=n.EventBinding,i=n.EvaluatorParser,s=n.CONTEXT_SYMBOL.length+1,a=new RegExp("^\\"+n.CONTEXT_SYMBOL+"\\.[\\w\\$]+$");n.EventBindingParser={parse:e}}(),function(){function e(e,t,n){var i,s,a;if(i=e.match(p))for(var o=0,c=i.length;o<c;++o)if(s=i[o],a=r.parse(s),"("===s[s.length-1]&&a.pop(),!(a.length<2))for(var l=0,u=n.length;l<u;++l)a[0]===n[l]&&(a.shift(),a.origin=l,t.push(a))}function t(t,n,r,p){var d,v,g=-1,y="";switch(t){case l.ONE_TIME:g=u.ONE_TIME;break;case l.ONE_WAY:g=u.ONE_WAY;break;case l.TWO_WAY:g=u.TWO_WAY;break;default:return null}f.test(n)&&(v=n.lastIndexOf(c),y=n.slice(v+1),n=n.slice(0,v),d=y.trim(),d||(d="updated"));var m,w,x,E,O=i.split(n,"|","()");if(m=O[0].trim(),g===u.TWO_WAY&&!h.test(m))throw new Error("Illegal two-way binding expression `"+n+"`");if(x=o.parse(m,r,p),!d){var b=[];e(m,b,p)}if(O.length>1){for(w=[],v=1,E=O.length;v<E;++v)m=O[v].trim(),")"!==m[m.length-1]&&(m+="()"),d||e(m,b,p),w.push(o.parse(m,r,p));E>2&&console.warn(n,"better not use converters more than 2")}var _={mode:g,event:d,paths:b,evaluator:x,converters:w};return s.create(a,_)}var r=n.PathUtil,i=n.StringUtil,s=n.Expression,a=n.DataBinding,o=n.EvaluatorParser,c=n.EVENT_OPERATOR,l=n.BINDING_OPERATORS,u=a.MODES,f=new RegExp("\\"+c+"(\\w(\\.\\w+)?)*[ ]*$"),h=/^[\w\$]+((\[|\]?\.)[\w\$]+)+$/,p=/[\w\$]+((\[|\]?\.)[\w\$]+)+\(?/g;n.DataBindingParser={parse:t}}(),function(){var e=n.StringUtil,t=n.Expression,r=n.TextBinding,i=n.DataBindingParser,s=n.BINDING_OPERATORS,a=n.DATA_BINDING_BRACKETS,o=new RegExp("["+s.ONE_TIME+s.ONE_WAY+s.TWO_WAY+"]\\"+a[0]);n.TextBindingParser={like:function(e){return o.test(e)},parse:function(n,o,c){var l,u,f,h=[0],p=[],d=e.range(n,-1,s.ONE_TIME,a),v=e.range(n,-1,s.ONE_WAY,a);if(!d&&!v)return null;for(;v||d;)v?d&&d[0]<v[0]?(l=d[0],u=d[1],d=e.range(n,u,s.ONE_TIME,a)):(l=v[0],u=v[1],v=e.range(n,u,s.ONE_WAY,a)):v&&v[0]<d[0]?(l=v[0],u=v[1],v=e.range(n,u,s.ONE_WAY,a)):(l=d[0],u=d[1],d=e.range(n,u,s.ONE_TIME,a)),h.push(l,u);for(h.push(n.length),l=0,u=h.length-1;l<u;++l)f=n.slice(h[l],h[l+1]),l%2?p[l]=i.parse(f[0],f.slice(2,f.length-1),o,c):p[l]=f;return t.create(r,p)}}}(),function(){function e(e,t){var n,r,i,s,o,c,l=e.split(/;/g),u={};for(o=0,s=l.length;o<s;++o)n=l[o],c=n.indexOf(":"),c>0&&(e=n.slice(c+1).trim(),r=n.slice(0,c).trim(),i=t?a.toCamelCase(r):r,u[i]=e);return u}function t(t,n,r){t.ns=a.getNameSpace(n),t.tag=a.getTagName(n);var i=a.toCamelCase(t.tag);t.type=s.search(i[0].toUpperCase()+i.slice(1),r);var o=a.getAttrs(n);if(o){if(o["x-attrs"]&&(t.attrs=e(o["x-attrs"]),delete o["x-attrs"]),o["x-style"]&&(t.style=e(o["x-style"],!0),delete o["x-style"]),o["x-class"]&&(t.classes=e(o["x-class"],!0),delete o["x-class"]),o["x-type"]&&(t.type=s.search(o["x-type"],r),delete o["x-type"],!t.type))throw new TypeError("can not find such type `"+o["x-type"]+"`");o["x-ref"]&&(t.ref=o["x-ref"],delete o["x-ref"]);var c,l={};o["x-if"]&&(l.xIf=o["x-if"],delete o["x-if"],c=!0),o["x-for"]&&(l.xFor=o["x-for"],delete o["x-for"],c=!0),o["x-key"]&&(l.xKey=o["x-key"],delete o["x-key"],c=!0),c&&(t.directs=l);var u,f,h={};for(u in o)o.hasOwnProperty(u)&&(f=a.toCamelCase(u),h[f]=o[u]);t.props=h}}function r(e,n,i){var s,c,l,u=a.getChildren(n),f=[];for(c=0,l=u.length;c<l;++c)if(s=u[c],!a.isComment(s))if(a.isElement(s)){var h=new o;t(h,s,i),r(h,s,i),f.push(h)}else a.isText(s)&&f.push(a.getProp(s,"data"));f.length&&(e.children=f)}function i(e,n){if(n=n||{},"string"==typeof e&&(e=a.parse(e.trim())[0]),!a.isElement(e))throw new TypeError("template must be DOM element or HTML string that contains a root tag");var i=new o;return t(i,e,n),r(i,e,n),i}var s=n.RES,a=n.Skin,o=n.HTMXTemplate;n.HTMLParser={parse:i}}(),function(){function e(e,t){var n=e[t];return n||(n=e[t]={}),n}function t(e){return e.expressions||Object.defineProperty(e,"expressions",{value:{}}),e.expressions}function r(e){var t,n,r={};for(n=e.split(/\s+/),t=0;t<n.length;++t)r[n[t]]=!0;return r}function i(e,t,n){if(e&&!_.test(e)){if(w.like(e))var r=w.parse(e,t,n);return r||e}}function s(e,n,r,i,s){var a=t(e);a[n]=x.parse(r,i,s)}function a(e,n,r,i,s,a){var o,c=t(e);o=r!==O.TEXT?m.parse(r,i,s,a):w.parse(i,s,a),c[n]=o}function o(e,t,n,r){if(r&&n){r="*"!==r?r:"";var i=d.parse(n,r);e[t]=null!=i?i:r?i:n}else e[t]=n}function c(t,n,r){if(n){var i=e(t,"directs"),s=t.identifiers;if(n.xIf&&(i.xIf={expression:m.parse(O.ONE_WAY,n.xIf,r,s)}),n.xFor){if(n.xSlot)throw new Error("You should not use x-for on <slot>");var a=n.xFor,o=a.match(/[ ]*([\w\_]+)[ ]+of[ ]+(.+)/);if(!o)throw new Error('x-for="'+a+'" is illegal');var c=m.parse(O.ONE_WAY,o[2],r,s);if(c){var l=c.template.converters;l||(c.template.converters=l=[]),l.push(T),i.xFor={expression:c}}s=s.concat([o[1]]),t.identifiers=s,n.xKey&&(i.xKey={evaluator:y.parse(n.xKey,r,s)})}null!=n.xSlot&&(i.xSlot={name:n.xSlot})}}function l(t,n,r,i,c){if(n){var l,u,f,h,p=t.identifiers;for(f in n)n.hasOwnProperty(f)&&(h=f.length-1,l=f[h],u=n[f],b.test(l)?(f=f.slice(0,h),l===O.EVENT?s(e(t,"actions"),f,u,r,p):a(e(t,i),f,l,u,r,p)):c?e(t,i)[f]=u:o(e(t,i),f,u,"*"))}}function u(n,i){var s,a=n.props;if(i.ref&&(s=e(n,"attrs"),s["x-ref"]=i.ref,n.ref=i.ref),a){if(a.className){var o=a.className,c=r(o),l=n.classes||{};for(var u in c)c.hasOwnProperty(u)&&!l.hasOwnProperty(u)&&(l[u]=!0);n.classes=l,delete a.className}a.style&&(s=e(n,"attrs"),s.style=a.style,delete a.style);var f=a.expressions;f&&(f.className&&(s=e(n,"attrs"),t(s)["class"]=f.className,delete f.className),f.style&&(s=e(n,"attrs"),t(s).style=f.style,delete f.style))}}function f(t,n,r){t.ns=n.ns,t.tag=n.tag,t.type=n.type,"slot"===n.tag&&(e(n,"directs").xSlot=n.props&&n.props.name||""),c(t,n.directs,r),l(t,n.props,r,"props",n.actual),l(t,n.style,r,"style",!1),l(t,n.attrs,r,"attrs",!1),l(t,n.classes,r,"classes",!0),u(t,n)}function h(e,t,n){var r,s,a,o,c="",l=[],u=t.children,p=e.identifiers;if(u&&u.length){for(r=0,s=u.length;r<s;++r)o=u[r],"string"!=typeof o?(c&&(a=i(c,n,p),a&&l.push(a),c=""),a=new v,a.identifiers=p,f(a,o,n),h(a,o,n),l.push(a)):c+=o;c&&(a=i(c,n,p),a&&l.push(a)),e.children=l}}function p(e,t){t=t||{},e instanceof v||(e=g.parse(e,t));var n=new v;return n.identifiers=[E],f(n,e,t),h(n,e,t),n}var d=n.LiteralUtil,v=n.HTMXTemplate,g=n.HTMLParser,y=n.EvaluatorParser,m=n.DataBindingParser,w=n.TextBindingParser,x=n.EventBindingParser,E=n.CONTEXT_SYMBOL,O=n.BINDING_OPERATORS,b=new RegExp("[\\"+O.ONE_TIME+"\\"+O.ONE_WAY+"\\"+O.TWO_WAY+"\\"+O.EVENT+"\\"+O.TEXT+"]"),_=/^ *\r?\n *$/,T=n.Evaluator.create(function(e){return e?e.slice(0):[]});n.HTMXParser={parse:p}}(),function(){function e(e,t,r){var i=e.constructor.defaults;t=n.assign({},"function"==typeof i?i():null,t);for(var s in r)r.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&e.unset(s);e.save(t)}function t(e,t){e=e||{};for(var n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(t.set(n,void 0),delete t[n]);t.save(e)}function r(e,t){e.on(t)}function i(n,i){e(i,n.props,i._props),t(n.attrs,i.attrs),t(n.style,i.style),t(n.classes,i.classes),r(i,n.actions)}function s(e,t){var n=t.type,r=t.tag||"";return e.key===t.key&&(n?n===e.constructor:r===e.tag)}function a(e,t){var n;return e.type?(n=h.create(e.type),d.initialize(e,n,t)):e.tag?(n=f.create(e.tag,e.ns),d.initialize(e,n,t)):n=u.create(e),e.ref&&(t[e.ref]=n),n}function o(e,t,n){var r=t instanceof h&&t!==n?t.contents||[]:t.children;if(r!==e.children){for(var i,o,l=e.children||[],u=new Array(l.length),f=0,p=r.length-1,d=0,g=l.length-1,y=r[f],m=r[p],w=l[d],x=l[g];f<=p&&d<=g;)if(null==y)y=r[++f];else if(null==m)m=r[--p];else if(s(y,w))c(w,y,n),u[d]=y,y=r[++f],w=l[++d];else if(s(m,w))c(w,m,n),u[g]=m,m=r[--p],x=l[--g];else if(s(y,x))c(w,y,n),u[g]=y,y=r[++f],x=l[--g];else if(s(m,w))c(w,m,n),u[d]=m,m=r[--p],w=l[++d];else{if(!i){i={};for(var E=f;E<=p;++E)o=r[f].key,o&&(i[o]=E)}o=w.key,E=o&&i[o],null!=E&&s(r[E]||v,w)?u[d]=r[E]:u[d]=a(w,n),c(w,u[d],n),w=l[++d]}if(f>p)for(;d<=g;)u[d]=a(w,n),w=l[++d];t instanceof h&&t!==n?t.set("contents",u):t.children.reset(u)}}function c(e,t,n){e instanceof p?(i(e,t),o(e,t,n)):t.set("data",e)}function l(e,t,n){var r=p.create(e instanceof h?e.constructor:e.tag,t,n);return c(r,e,e),e}var u=n.Text,f=n.Element,h=n.Component,p=n.HTMXTemplate,d=n.HTMXCompiler,v={};n.HTMXUpdater={update:l}}(),e=e||window||{},t?t.exports=n:e.Exact=n,n.global=e}("undefined"!=typeof global?global:null,"undefined"!=typeof module?module:null);