<!DOCTYPE html>
<html>
<head lang="en">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <title>Exact |　TodoMVC</title>

  <link href="../stylesheets/codemirror.css" rel="stylesheet">
  <link href="../stylesheets/alice.css" rel="stylesheet">
  <link href="../stylesheets/defaults.css" rel="stylesheet">
  <!--<link href="../stylesheets/index.css" rel="stylesheet">-->
</head>
<body>
<header class="header">
  <nav class="nav-bar">
    <h3 class="brand"><a href="../" class="logo">Exact</a></h3>
    <a class="menu-btn"></a>
    <ul class="menu-bar">
      <li><a href="#" class="menu-item active"> Examples </a></li>
      <li><a href="../downloads/index.html" class="menu-item"> Downloads </a></li>
      <li><a href="../documents/index.html" class="menu-item"> Documents </a></li>
      <li><a href="../apis/index.html" class="menu-item"> APIs </a></li>
      <li><a href="#" class="menu-item"> GitHub </a></li>
    </ul>
  </nav>
</header>
<div class="main">
  <aside class="side-bar">
    <div class="card">
      <h4>Examples</h4>
      <ul class="list">
        <li><a href="./color-palette.html" class="link">Color Palette</a></li>
        <li><a href="./svg-component.html" class="link">SVG Component</a></li>
        <li><a href="" class="link">TodoMVC</a></li>
      </ul>
    </div>

  </aside>
  <a class="side-btn">&gt;</a>
  <article class="article">
    <h2>TodoMVC</h2>
    <header class="tab-header">
      <ul class="tab-bar">
        <li><a href="#" class="tab-item active"> Result </a></li>
        <li><a href="#" class="tab-item"> HTML </a></li>
        <li><a href="#" class="tab-item"> JavaScript </a></li>
        <li><a href="#" class="tab-item"> CSS </a></li>
      </ul>
    </header>
    <section class="tab-content">
      <iframe src="todomvc/index.html" class="frame"></iframe>
    </section>
    <section class="tab-content code-box scroll">
      <div class="CodeMirror cm-s-alice">
        <div class="CodeMirror-lines">
          <div style="position: relative; outline: none;">
            <div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">id</span>=<span class="cm-string">"app-shell"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">div</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">class</span>=<span class="cm-string">"template"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">section</span> <span class="cm-attribute">class</span>=<span class="cm-string">"todoapp"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">header</span> <span class="cm-attribute">class</span>=<span class="cm-string">"header"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">h1</span><span class="cm-tag cm-bracket">&gt;</span>todos<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">h1</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">class</span>=<span class="cm-string">"new-todo"</span> <span class="cm-attribute">placeholder</span>=<span class="cm-string">"What needs to be done?"</span> <span class="cm-attribute">autofocus</span> <span class="cm-attribute">x-type</span>=<span class="cm-string">"Input"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"#{$.newTitle}"</span> <span class="cm-attribute">keyup.enter+</span>=<span class="cm-string">"onEnter"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag cm-error">header</span><span class="cm-tag cm-bracket cm-error">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">section</span> <span class="cm-attribute">class</span>=<span class="cm-string">"main"</span> <span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">class</span>=<span class="cm-string">"toggle-all"</span> <span class="cm-attribute">id</span>=<span class="cm-string">"toggle-all"</span> <span class="cm-attribute">checked</span>=<span class="cm-string">"#{$.allDone}"</span> <span class="cm-attribute">x-type</span>=<span class="cm-string">"CheckBox"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">label</span> <span class="cm-attribute">for</span>=<span class="cm-string">"toggle-all"</span><span class="cm-tag cm-bracket">&gt;</span>Mark all as complete<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">label</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">ul</span> <span class="cm-attribute">class</span>=<span class="cm-string">"todo-list"</span> <span class="cm-attribute">x-id</span>=<span class="cm-string">"list"</span> <span class="cm-attribute">x-type</span>=<span class="cm-string">"List"</span> <span class="cm-attribute">item-adapter</span>=<span class="cm-string">"&amp;{ENJ.Adapter}"</span> <span class="cm-attribute">items</span>=<span class="cm-string">"@{$.todos | $.filtering *}"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">ul</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag cm-error">section</span><span class="cm-tag cm-bracket cm-error">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">footer</span> <span class="cm-attribute">class</span>=<span class="cm-string">"footer"</span> <span class="cm-attribute">x-style</span>=<span class="cm-string">"display: @{$.todos.length | display};"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">span</span> <span class="cm-attribute">class</span>=<span class="cm-string">"todo-count"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">strong</span> <span class="cm-attribute">x-id</span>=<span class="cm-string">"strong"</span><span class="cm-tag cm-bracket">&gt;</span>@{$.remainingCount}<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">strong</span><span class="cm-tag cm-bracket">&gt;</span>@{$.remainingCount | pluralize('item')} left</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">span</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">ul</span> <span class="cm-attribute">class</span>=<span class="cm-string">"filters"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">x-class</span>=<span class="cm-string">"selected: @{$.filter === 'all'}"</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#/"</span><span class="cm-tag cm-bracket">&gt;</span>All<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">x-class</span>=<span class="cm-string">"selected: @{$.filter === 'active'}"</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#/active"</span><span class="cm-tag cm-bracket">&gt;</span>Active<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">a</span> <span class="cm-attribute">x-class</span>=<span class="cm-string">"selected: @{$.filter === 'completed'}"</span> <span class="cm-attribute">href</span>=<span class="cm-string">"#/completed"</span><span class="cm-tag cm-bracket">&gt;</span>Completed<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">a</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">li</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">ul</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">button</span> <span class="cm-attribute">class</span>=<span class="cm-string">"clear-completed"</span> <span class="cm-attribute">click+</span>=<span class="cm-string">"clearCompleted"</span> <span class="cm-attribute">x-style</span>=<span class="cm-string">"display: @{$.todos.length &gt; $.remainingCount | display};"</span> <span class="cm-tag cm-bracket">&gt;</span>Clear completed<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">button</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">footer</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">section</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag cm-error">div</span><span class="cm-tag cm-bracket cm-error">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">ul</span> <span class="cm-attribute">class</span>=<span class="cm-string">"template"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">li</span> <span class="cm-attribute">class</span>=<span class="cm-string">"adapter"</span> <span class="cm-attribute">x-class</span>=<span class="cm-string">"todo: true; completed: @{$.item.completed}; editing: @{$.backup};"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">div</span> <span class="cm-attribute">class</span>=<span class="cm-string">"view"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">class</span>=<span class="cm-string">"toggle"</span> <span class="cm-attribute">x-type</span>=<span class="cm-string">"CheckBox"</span> <span class="cm-attribute">checked</span>=<span class="cm-string">"#{$.item.completed}"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">label</span> <span class="cm-attribute">dblclick+</span>=<span class="cm-string">"edit"</span><span class="cm-tag cm-bracket">&gt;</span>@{$.item.title}<span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag">label</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">button</span> <span class="cm-attribute">class</span>=<span class="cm-string">"destroy"</span> <span class="cm-attribute">click+</span>=<span class="cm-string">"destroy"</span><span class="cm-tag cm-bracket">&gt;&lt;/</span><span class="cm-tag">button</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag cm-error">div</span><span class="cm-tag cm-bracket cm-error">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-tag cm-bracket">&lt;</span><span class="cm-tag">input</span> <span class="cm-attribute">class</span>=<span class="cm-string">"edit"</span> <span class="cm-attribute">x-id</span>=<span class="cm-string">"editor"</span> <span class="cm-attribute">x-type</span>=<span class="cm-string">"TextBox"</span> <span class="cm-attribute">value</span>=<span class="cm-string">"@{$.item.title}"</span> <span class="cm-attribute">keyup.escape+</span>=<span class="cm-string">"cancelEdit"</span> <span class="cm-attribute">keyup.enter+</span>=<span class="cm-string">"doneEdit"</span> <span class="cm-attribute">blur+</span>=<span class="cm-string">"doneEdit"</span><span class="cm-tag cm-bracket">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag cm-error">li</span><span class="cm-tag cm-bracket cm-error">&gt;</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-tag cm-bracket">&lt;/</span><span class="cm-tag cm-error">ul</span><span class="cm-tag cm-bracket cm-error">&gt;</span></span></pre></div>
          </div>
          </div>
      </div>

    </section>
    <section class="tab-content code-box scroll">
      <div class="CodeMirror cm-s-alice">
        <div class="CodeMirror-lines">
          <div style="position: relative; outline: none;">
            <div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">(<span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-keyword">var</span> <span class="cm-def">Skin</span> <span class="cm-operator">=</span> <span class="cm-variable">Exact</span>.<span class="cm-property">Skin</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-keyword">var</span> <span class="cm-def">Store</span> <span class="cm-operator">=</span> <span class="cm-variable">Exact</span>.<span class="cm-property">Store</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-keyword">var</span> <span class="cm-def">Collection</span> <span class="cm-operator">=</span> <span class="cm-variable">Exact</span>.<span class="cm-property">Collection</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-keyword">var</span> <span class="cm-def">Component</span> <span class="cm-operator">=</span> <span class="cm-variable">Exact</span>.<span class="cm-property">Component</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-keyword">var</span> <span class="cm-def">defineClass</span> <span class="cm-operator">=</span> <span class="cm-variable">Exact</span>.<span class="cm-property">defineClass</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-keyword">var</span> <span class="cm-def">ENJ</span> <span class="cm-operator">=</span> {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">read</span>: <span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">var</span> <span class="cm-def">item</span> <span class="cm-operator">=</span> <span class="cm-variable">localStorage</span>.<span class="cm-property">getItem</span>(<span class="cm-string">'todos'</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">if</span> (<span class="cm-variable-2">item</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-keyword">return</span> <span class="cm-variable">JSON</span>.<span class="cm-property">parse</span>(<span class="cm-variable-2">item</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">save</span>: <span class="cm-keyword">function</span>(<span class="cm-def">todos</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-variable">localStorage</span>.<span class="cm-property">setItem</span>(<span class="cm-string">'todos'</span>, <span class="cm-variable">JSON</span>.<span class="cm-property">stringify</span>(<span class="cm-variable-2">todos</span>));</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  };</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-variable-2">ENJ</span>.<span class="cm-property">Adapter</span> <span class="cm-operator">=</span> <span class="cm-variable-2">defineClass</span>({</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">extend</span>: <span class="cm-variable-2">Component</span>,</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">statics</span>: {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-property">$template</span>: <span class="cm-variable-2">Skin</span>.<span class="cm-property">query</span>(<span class="cm-variable">document</span>, <span class="cm-string">'.template .adapter'</span>)</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">register</span>: <span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-variable">Exact</span>.<span class="cm-property">help</span>(<span class="cm-keyword">this</span>).<span class="cm-property">bind</span>(<span class="cm-string">'edit'</span>, <span class="cm-string">'destroy'</span>, <span class="cm-string">'doneEdit'</span>, <span class="cm-string">'cancelEdit'</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">edit</span>: <span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">set</span>(<span class="cm-string">'backup'</span>, <span class="cm-keyword">this</span>.<span class="cm-property">item</span>.<span class="cm-property">title</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">editor</span>.<span class="cm-property">set</span>(<span class="cm-string">'value'</span>, <span class="cm-keyword">this</span>.<span class="cm-property">backup</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">editor</span>.<span class="cm-property">focus</span>();</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">doneEdit</span>: <span class="cm-keyword">function</span>(<span class="cm-def">event</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">submit</span>(<span class="cm-variable-2">event</span>.<span class="cm-property">target</span>.<span class="cm-property">value</span>.<span class="cm-property">trim</span>());</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">cancelEdit</span>: <span class="cm-keyword">function</span>(<span class="cm-def">event</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">submit</span>(<span class="cm-keyword">this</span>.<span class="cm-property">backup</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">submit</span>: <span class="cm-keyword">function</span>(<span class="cm-def">title</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">if</span> (<span class="cm-operator">!</span><span class="cm-keyword">this</span>.<span class="cm-property">backup</span>) { <span class="cm-keyword">return</span>; }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">set</span>(<span class="cm-string">'backup'</span>, <span class="cm-string">''</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">if</span> (<span class="cm-variable-2">title</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-keyword">this</span>.<span class="cm-property">item</span>.<span class="cm-property">set</span>(<span class="cm-string">"title"</span>, <span class="cm-variable-2">title</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-keyword">this</span>.<span class="cm-property">destroy</span>();</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">destroy</span>: <span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">emit</span>(<span class="cm-string">'destroy'</span>, <span class="cm-keyword">this</span>.<span class="cm-property">item</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  });</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-variable-2">ENJ</span>.<span class="cm-property">TodoApp</span> <span class="cm-operator">=</span> <span class="cm-variable-2">defineClass</span>({</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">extend</span>: <span class="cm-variable-2">Component</span>,</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">statics</span>: {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-property">descriptors</span>: [{</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-property">allDone</span>: {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-property">depends</span>: [<span class="cm-string">'remainingCount'</span>],</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-property">get</span>: <span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">            <span class="cm-keyword">return</span> <span class="cm-keyword">this</span>.<span class="cm-property">remainingCount</span> <span class="cm-operator">===</span> <span class="cm-number">0</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-property">set</span>: <span class="cm-keyword">function</span>(<span class="cm-def">value</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">            <span class="cm-keyword">this</span>.<span class="cm-property">todos</span>.<span class="cm-property">forEach</span>(<span class="cm-keyword">function</span>(<span class="cm-def">todo</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">              <span class="cm-variable-2">todo</span>.<span class="cm-property">set</span>(<span class="cm-string">'completed'</span>, <span class="cm-variable-2">value</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">            });</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-property">remainingCount</span>: {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-property">get</span>: <span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">            <span class="cm-keyword">return</span> <span class="cm-keyword">this</span>.<span class="cm-property">todos</span>.<span class="cm-property">filter</span>(<span class="cm-keyword">function</span>(<span class="cm-def">item</span>){</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">              <span class="cm-keyword">return</span> <span class="cm-operator">!</span><span class="cm-variable-2">item</span>.<span class="cm-property">completed</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">            }).<span class="cm-property">length</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      }],</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-property">resources</span>: {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-property">ENJ</span>: <span class="cm-variable-2">ENJ</span>,</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-property">display</span>: <span class="cm-keyword">function</span>(<span class="cm-def">visible</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-keyword">return</span> <span class="cm-variable-2">visible</span> <span class="cm-operator">?</span> <span class="cm-string">''</span> : <span class="cm-string">'none'</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-property">pluralize</span>: <span class="cm-keyword">function</span>(<span class="cm-def">num</span>, <span class="cm-def">str</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-keyword">return</span> <span class="cm-string">' '</span> <span class="cm-operator">+</span> <span class="cm-variable-2">str</span> <span class="cm-operator">+</span> (<span class="cm-variable-2">num</span> <span class="cm-operator">&gt;</span> <span class="cm-number">1</span> <span class="cm-operator">?</span> <span class="cm-string">'s'</span>: <span class="cm-string">''</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-property">$template</span>: <span class="cm-variable-2">Skin</span>.<span class="cm-property">query</span>(<span class="cm-variable">document</span>, <span class="cm-string">'.template .todoapp'</span>)</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">defaults</span>: <span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">return</span> {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-property">todos</span>: <span class="cm-keyword">new</span> <span class="cm-variable-2">Collection</span>(),</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-property">newTitle</span>: <span class="cm-string">''</span>,</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-property">remainingCount</span>: <span class="cm-number">0</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">filtering</span>: <span class="cm-keyword">function</span>(<span class="cm-def">todos</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">var</span> <span class="cm-def">filter</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-property">filter</span> <span class="cm-operator">||</span> <span class="cm-string">'all'</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">return</span> <span class="cm-variable-2">todos</span>.<span class="cm-property">filter</span>(<span class="cm-keyword">function</span>(<span class="cm-def">todo</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-keyword">return</span> <span class="cm-variable-2">filter</span> <span class="cm-operator">===</span> <span class="cm-string">'all'</span> <span class="cm-operator">||</span> (<span class="cm-variable-2">filter</span> <span class="cm-operator">===</span> <span class="cm-string">'completed'</span> <span class="cm-operator">?</span> <span class="cm-variable-2">todo</span>.<span class="cm-property">completed</span> : <span class="cm-operator">!</span><span class="cm-variable-2">todo</span>.<span class="cm-property">completed</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      });</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">register</span>: <span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-variable">Exact</span>.<span class="cm-property">help</span>(<span class="cm-keyword">this</span>).<span class="cm-property">bind</span>(<span class="cm-string">'onEnter'</span>, <span class="cm-string">'filtering'</span>, <span class="cm-string">'removeTodo'</span>, <span class="cm-string">'clearCompleted'</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">ready</span>: <span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">var</span> <span class="cm-def">invalidate</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-property">invalidate</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">var</span> <span class="cm-def">removeTodo</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-property">removeTodo</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">todos</span>.<span class="cm-property">onChange</span> <span class="cm-operator">=</span> <span class="cm-variable-2">invalidate</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">var</span> <span class="cm-def">records</span> <span class="cm-operator">=</span> <span class="cm-variable-2">ENJ</span>.<span class="cm-property">read</span>();</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">if</span> (<span class="cm-variable-2">records</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-number">0</span>, <span class="cm-def">n</span> <span class="cm-operator">=</span> <span class="cm-variable-2">records</span>.<span class="cm-property">length</span>; <span class="cm-variable-2">i</span> <span class="cm-operator">&lt;</span> <span class="cm-variable-2">n</span>; <span class="cm-operator">++</span><span class="cm-variable-2">i</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-keyword">this</span>.<span class="cm-property">addTodo</span>(<span class="cm-variable-2">Store</span>.<span class="cm-property">from</span>(<span class="cm-variable-2">records</span>[<span class="cm-variable-2">i</span>]));</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">list</span>.<span class="cm-property">on</span>(<span class="cm-string">'itemAdded'</span>, <span class="cm-keyword">function</span>(<span class="cm-def">event</span>, <span class="cm-def">todo</span>, <span class="cm-def">adapter</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-variable-2">adapter</span>.<span class="cm-property">on</span>(<span class="cm-string">'destroy'</span>, <span class="cm-variable-2">removeTodo</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      });</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">list</span>.<span class="cm-property">on</span>(<span class="cm-string">'itemRemoved'</span>, <span class="cm-keyword">function</span>(<span class="cm-def">event</span>, <span class="cm-def">todo</span>, <span class="cm-def">adapter</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-variable-2">adapter</span>.<span class="cm-property">off</span>(<span class="cm-string">'destroy'</span>, <span class="cm-variable-2">removeTodo</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      });</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">refresh</span>: <span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">send</span>(<span class="cm-string">'changed.remainingCount'</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-variable-2">ENJ</span>.<span class="cm-property">save</span>(<span class="cm-keyword">this</span>.<span class="cm-property">todos</span>.<span class="cm-property">slice</span>(<span class="cm-number">0</span>));</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">addTodo</span>: <span class="cm-keyword">function</span>(<span class="cm-def">todo</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-variable-2">todo</span>.<span class="cm-property">on</span>(<span class="cm-string">'changed'</span>, <span class="cm-keyword">this</span>.<span class="cm-property">invalidate</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">todos</span>.<span class="cm-property">push</span>(<span class="cm-variable-2">todo</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">removeTodo</span>: <span class="cm-keyword">function</span>(<span class="cm-def">todo</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-variable-2">todo</span>.<span class="cm-property">off</span>(<span class="cm-string">'changed'</span>, <span class="cm-keyword">this</span>.<span class="cm-property">invalidate</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">todos</span>.<span class="cm-property">splice</span>(<span class="cm-keyword">this</span>.<span class="cm-property">todos</span>.<span class="cm-property">indexOf</span>(<span class="cm-variable-2">todo</span>), <span class="cm-number">1</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">clearCompleted</span>: <span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">for</span> (<span class="cm-keyword">var</span> <span class="cm-def">i</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-property">todos</span>.<span class="cm-property">length</span> <span class="cm-operator">-</span> <span class="cm-number">1</span>; <span class="cm-variable-2">i</span> <span class="cm-operator">&gt;=</span> <span class="cm-number">0</span>; <span class="cm-operator">--</span><span class="cm-variable-2">i</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-keyword">if</span> (<span class="cm-keyword">this</span>.<span class="cm-property">todos</span>[<span class="cm-variable-2">i</span>].<span class="cm-property">completed</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-keyword">this</span>.<span class="cm-property">todos</span>.<span class="cm-property">splice</span>(<span class="cm-variable-2">i</span>, <span class="cm-number">1</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    },</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">onEnter</span>: <span class="cm-keyword">function</span>() {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">var</span> <span class="cm-def">title</span> <span class="cm-operator">=</span> <span class="cm-keyword">this</span>.<span class="cm-property">newTitle</span>.<span class="cm-property">trim</span>();</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">this</span>.<span class="cm-property">set</span>(<span class="cm-string">'newTitle'</span>, <span class="cm-string">''</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-keyword">if</span> (<span class="cm-variable-2">title</span>) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        <span class="cm-keyword">this</span>.<span class="cm-property">addTodo</span>(<span class="cm-variable-2">Store</span>.<span class="cm-property">from</span>({</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-property">completed</span>: <span class="cm-atom">false</span>,</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">          <span class="cm-property">title</span>: <span class="cm-variable-2">title</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">        }));</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  });</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-keyword">var</span> <span class="cm-def">app</span> <span class="cm-operator">=</span> <span class="cm-variable-2">Component</span>.<span class="cm-property">create</span>(<span class="cm-variable-2">ENJ</span>.<span class="cm-property">TodoApp</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-keyword">var</span> <span class="cm-def">filters</span> <span class="cm-operator">=</span> {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-property">all</span>: <span class="cm-atom">true</span>, <span class="cm-property">active</span>: <span class="cm-atom">true</span>, <span class="cm-property">completed</span>: <span class="cm-atom">true</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  };</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-keyword">function</span> <span class="cm-def">onHashChange</span> () {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-keyword">var</span> <span class="cm-def">filter</span> <span class="cm-operator">=</span> <span class="cm-variable">window</span>.<span class="cm-property">location</span>.<span class="cm-property">hash</span>.<span class="cm-property">replace</span>(<span class="cm-string-2">/#\/?/</span>, <span class="cm-string">''</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    <span class="cm-keyword">if</span> (<span class="cm-variable-2">filters</span>[<span class="cm-variable-2">filter</span>]) {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-variable-2">app</span>.<span class="cm-property">set</span>(<span class="cm-string">'filter'</span>, <span class="cm-variable-2">filter</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    } <span class="cm-keyword">else</span> {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-variable">window</span>.<span class="cm-property">location</span>.<span class="cm-property">hash</span> <span class="cm-operator">=</span> <span class="cm-string">''</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">      <span class="cm-variable-2">app</span>.<span class="cm-property">set</span>(<span class="cm-string">'filter'</span>, <span class="cm-string">'all'</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">    }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  }</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-variable">window</span>.<span class="cm-property">addEventListener</span>(<span class="cm-string">'hashchange'</span>, <span class="cm-variable-2">onHashChange</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-variable-2">onHashChange</span>();</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-variable">document</span>.<span class="cm-property">getElementById</span>(<span class="cm-string">'app-shell'</span>).<span class="cm-property">appendChild</span>(<span class="cm-variable-2">app</span>.<span class="cm-property">$skin</span>);</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">})();</span></pre></div>
          </div>
        </div>
      </div>
      <!--<pre class="code-behind js-mode">
(function() {
  var Skin = Exact.Skin;
  var Store = Exact.Store;
  var Collection = Exact.Collection;
  var Component = Exact.Component;

  var defineClass = Exact.defineClass;

  var ENJ = {
    read: function() {
      var item = localStorage.getItem('todos');

      if (item) {
        return JSON.parse(item);
      }
    },
    save: function(todos) {
      localStorage.setItem('todos', JSON.stringify(todos));
    }
  };

  ENJ.Adapter = defineClass({
    extend: Component,

    statics: {
      $template: Skin.query(document, '.template .adapter')
    },

    register: function() {
      Exact.help(this).bind('edit', 'destroy', 'doneEdit', 'cancelEdit');
    },

    edit: function() {
      this.set('backup', this.item.title);
      this.editor.set('value', this.backup);
      this.editor.focus();
    },

    doneEdit: function(event) {
      this.submit(event.target.value.trim());
    },

    cancelEdit: function(event) {
      this.submit(this.backup);
    },

    submit: function(title) {
      if (!this.backup) { return; }

      this.set('backup', '');

      if (title) {
        this.item.set("title", title);
      } else {
        this.destroy();
      }
    },

    destroy: function() {
      this.emit('destroy', this.item);
    }
  });

  ENJ.TodoApp = defineClass({
    extend: Component,

    statics: {
      descriptors: [{
        allDone: {
          depends: ['remainingCount'],
          get: function() {
            return this.remainingCount === 0;
          },
          set: function(value) {
            this.todos.forEach(function(todo) {
              todo.set('completed', value);
            });
          }
        },
        remainingCount: {
          get: function() {
            return this.todos.filter(function(item){
              return !item.completed;
            }).length;
          }
        }
      }],
      resources: {
        ENJ: ENJ,
        display: function(visible) {
          return visible ? '' : 'none';
        },
        pluralize: function(num, str) {
          return ' ' + str + (num > 1 ? 's': '');
        }
      },
      $template: Skin.query(document, '.template .todoapp')
    },

    defaults: function() {
      return {
        todos: new Collection(),
        newTitle: '',
        remainingCount: 0
      }
    },

    filtering: function(todos) {
      var filter = this.filter || 'all';
      return todos.filter(function(todo) {
        return filter === 'all' || (filter === 'completed' ? todo.completed : !todo.completed);
      });
    },

    register: function() {
      Exact.help(this).bind('onEnter', 'filtering', 'removeTodo', 'clearCompleted');
    },

    ready: function() {
      var invalidate = this.invalidate;
      var removeTodo = this.removeTodo;

      this.todos.onChange = invalidate;

      var records = ENJ.read();
      if (records) {
        for (var i = 0, n = records.length; i < n; ++i) {
          this.addTodo(Store.from(records[i]));
        }
      }

      this.list.on('itemAdded', function(event, todo, adapter) {
        adapter.on('destroy', removeTodo);
      });

      this.list.on('itemRemoved', function(event, todo, adapter) {
        adapter.off('destroy', removeTodo);
      });
    },

    refresh: function() {
      this.send('changed.remainingCount');
      ENJ.save(this.todos.slice(0));
    },

    addTodo: function(todo) {
      todo.on('changed', this.invalidate);
      this.todos.push(todo);
    },

    removeTodo: function(todo) {
      todo.off('changed', this.invalidate);
      this.todos.splice(this.todos.indexOf(todo), 1);
    },

    clearCompleted: function() {
      for (var i = this.todos.length - 1; i >= 0; &#45;&#45;i) {
        if (this.todos[i].completed) {
          this.todos.splice(i, 1);
        }
      }
    },

    onEnter: function() {
      var title = this.newTitle.trim();

      this.set('newTitle', '');

      if (title) {
        this.addTodo(Store.from({
          completed: false,
          title: title
        }));
      }
    }
  });

  var app = Component.create(ENJ.TodoApp);

  var filters = {
    all: true, active: true, completed: true
  };

  function onHashChange () {
    var filter = window.location.hash.replace(/#\/?/, '');
    if (filters[filter]) {
      app.set('filter', filter);
    } else {
      window.location.hash = '';
      app.set('filter', 'all');
    }
  }

  window.addEventListener('hashchange', onHashChange);
  onHashChange();

  document.getElementById('app-shell').appendChild(app.$skin);
})();</pre>-->
    </section>

    <section class="tab-content code-box scroll">
      <div class="CodeMirror cm-s-alice">
        <div class="CodeMirror-lines">
          <div style="position: relative; outline: none;">
            <div class="CodeMirror-code"><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span class="cm-qualifier">.template</span> {</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">  <span class="cm-property">display</span>: <span class="cm-atom">none</span>;</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;">}</span></pre><pre class=" CodeMirror-line "><span style="padding-right: 0.1px;"><span cm-text="">​</span></span></pre></div>
          </div>
        </div>
      </div>
    </section>
  </article>

</div>

<script src="../javascripts/codemirror.js"></script>
<script src="../javascripts/xml-mode.js"></script>
<script src="../javascripts/javascript-mode.js"></script>
<script src="../javascripts/site.js"></script>
<!--<footer class="footer">
  <p>Released under the MIT license<br>
    © 2015 Chen Junyong. All rights reserved.</p>
</footer>-->
</body>
</html>